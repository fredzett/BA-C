<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Eine kurze Einführung für Studierende der Betriebswirtschaftslehre">

<title>Business Analytics &amp; Coding - 8&nbsp; Einlesen und Aufbereiten</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../references.html" rel="next">
<link href="../../Chapters/04_Chapter/Deskriptive_Problemstellung.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-title">Einlesen und Aufbereiten</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">Inhalt</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">VORWORT</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../Chapters/01_Chapter/Einleitung.html" class="sidebar-item-text sidebar-link">EINLEITUNG</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Chapters/01_Chapter/Was_ist_BA.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Business Analytics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Chapters/01_Chapter/Coding.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Werkzeug: Coding!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Chapters/01_Chapter/Warum_Python.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Warum Python?</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../Chapters/02_Chapter/Getting_Ready.html" class="sidebar-item-text sidebar-link">VORBEREITUNG</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Chapters/02_Chapter/Installation.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Installation &amp; Setup</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Chapters/02_Chapter/Introduction_notebook.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Einführung Notebooks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Chapters/02_Chapter/Python_Basics.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Kurze Einführung in Python</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Chapters/03_Chapter/Fallstudie_1.html" class="sidebar-item-text sidebar-link">FALLSTUDIE</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../Chapters/04_Chapter/Deskriptive_Analyse.html" class="sidebar-item-text sidebar-link">DESKRIPTIVE ANALYSE</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Chapters/04_Chapter/Deskriptive_Problemstellung.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Ausgangslage und Problemstellung</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Chapters/04_Chapter/Einlesen_Aufbereiten.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">Einlesen und Aufbereiten</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../references.html" class="sidebar-item-text sidebar-link">LITERATUR</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../Appendices/Anhang.html" class="sidebar-item-text sidebar-link">ANHANG</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Appendices/Modules/Pandas.html" class="sidebar-item-text sidebar-link">Pandas</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#einlesen-und-ersten-überblick-verschaffen" id="toc-einlesen-und-ersten-überblick-verschaffen" class="nav-link active" data-scroll-target="#einlesen-und-ersten-überblick-verschaffen">Einlesen und ersten Überblick verschaffen</a></li>
  <li><a href="#aufbereitung-der-daten" id="toc-aufbereitung-der-daten" class="nav-link" data-scroll-target="#aufbereitung-der-daten">Aufbereitung der Daten</a>
  <ul>
  <li><a href="#datentypen-anpassen" id="toc-datentypen-anpassen" class="nav-link" data-scroll-target="#datentypen-anpassen">Datentypen anpassen</a></li>
  <li><a href="#spalten-umbenennen" id="toc-spalten-umbenennen" class="nav-link" data-scroll-target="#spalten-umbenennen">Spalten umbenennen</a></li>
  <li><a href="#fehler-finden" id="toc-fehler-finden" class="nav-link" data-scroll-target="#fehler-finden">“Fehler” finden</a>
  <ul class="collapse">
  <li><a href="#duplikate-identifizieren" id="toc-duplikate-identifizieren" class="nav-link" data-scroll-target="#duplikate-identifizieren">Duplikate identifizieren</a></li>
  </ul></li>
  <li><a href="#was-noch" id="toc-was-noch" class="nav-link" data-scroll-target="#was-noch">WAS NOCH:</a></li>
  </ul></li>
  <li><a href="#genutzte-funktionen-und-methoden" id="toc-genutzte-funktionen-und-methoden" class="nav-link" data-scroll-target="#genutzte-funktionen-und-methoden">Genutzte Funktionen und Methoden</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-title">Einlesen und Aufbereiten</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="einlesen-und-ersten-überblick-verschaffen" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="einlesen-und-ersten-überblick-verschaffen">Einlesen und ersten Überblick verschaffen</h2>
<div class="page-columns page-full"><p>Beginnen wir mit der Analyse, in dem wir die Daten zunächst einlesen und aufbereiten. Dazu verwenden wir die Funktion <code>read_csv()</code> aus dem Paket <code>pandas</code>.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> Die Funktion <code>read_csv()</code> erwartet als Argument den Pfad zur CSV-Datei, die eingelesen werden soll. Darüber hinaus können noch viele weitere Parameter übergeben werden (z.B. welche Spalten wir einlesen möchten, welches Datenformat wir verwenden, welches Dezimalkomma wir verwenden, etc.).</p><div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;Hinweis: wir werden die für die Fallstudie(n) benötigten Funktionalitäten immer dann vorstellen und erläutern, wenn wir diese benötigen. Für einen gesamthaften Überblick zum Modul Pandas verweisen wir auf den Anhang <a href="../../Appendices/Modules/Pandas.html#sec-pandas"><span>Kapitel&nbsp;1</span></a>.</p></li></div></div>
<div class="page-columns page-full"><p>Die Funktion gibt ein sogenanntes <code>DataFrame</code> zurück, das wir in der Variable <code>df</code> speichern. Ein <code>DataFrame</code> ist eine Datenstruktur, die in der Regel Tabellen repräsentiert. In unserem Fall enthält das <code>DataFrame</code> die Daten aus der CSV-Datei. Prinzipiell können wir nahezu jedes gängige Format einlesen, das Pandas unterstützt. Eine vollständige Liste der unterstützten Formate finden Sie in der Dokumentation von Pandas.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn2"><p><sup>2</sup>&nbsp;siehe <a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html">hier</a></p></li></div></div>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'../../_data/Construction.csv'</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Die Variable <code>df</code> enthält nun die Daten aus der CSV-Datei. Wenn das Einlesen der Daten erfolgreich war - d.h. wir keine Fehlermeldung erhalten haben -, können wir uns einen ersten Überblick verschaffen und uns den Inhalt der Variable <code>df</code> anschauen. Dazu verwenden wir die Funktion <code>head()</code>.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Project_ID</th>
      <th>Projektname</th>
      <th>projekt_Beginn</th>
      <th>Plan Bau fertig</th>
      <th>Ist_Bau_fertig</th>
      <th>plan_Kosten</th>
      <th>Ist_Kosten</th>
      <th>Project_team</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>P-62602</td>
      <td>Stadtpark // Eberhardtallee</td>
      <td>2013-10-15</td>
      <td>2013-12-26</td>
      <td>2013-12-25</td>
      <td>109129.55</td>
      <td>130487.07</td>
      <td>Team 4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>P-80374</td>
      <td>Spielplatz // Geißlerweg</td>
      <td>2016-07-14</td>
      <td>2016-09-20</td>
      <td>2016-09-22</td>
      <td>59521.33</td>
      <td>66009.97</td>
      <td>Team 4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>P-96379</td>
      <td>Spielplatz // Schäferring</td>
      <td>2019-06-14</td>
      <td>2019-06-16</td>
      <td>2019-06-29</td>
      <td>82572.27</td>
      <td>107571.64</td>
      <td>Team 2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>P-31809</td>
      <td>Baumbestand // Raphaela-Scheel-Platz</td>
      <td>2019-02-06</td>
      <td>2019-02-11</td>
      <td>2019-02-11</td>
      <td>29563.59</td>
      <td>29724.17</td>
      <td>Team 1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>P-51445</td>
      <td>Landschaftsbau // Julia-Neureuther-Platz</td>
      <td>2015-04-26</td>
      <td>2015-05-16</td>
      <td>2015-05-20</td>
      <td>38315.35</td>
      <td>53783.40</td>
      <td>Team 3</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Die Funktion ist sehr hilfreich, um zu überprüfen, ob die Daten (zumindest scheinbar) korrekt eingelesen wurden. Außderm können wir so den Aufbau des Datensatzes erkennen.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
<code>head()</code> und <code>tail()</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Die Funktion <code>head()</code> gibt die ersten Zeilen eines DataFrames aus. Mit der Funktion <code>tail()</code> können wir die letzten Zeilen ausgeben lassen. Ohne weitere Angabe von Parametern geben <code>head()</code> und <code>tail()</code> jeweils fünf Zeilen aus. Wir können beide Funktionen auch mit einem Argument aufrufen, um die Anzahl der Zeilen anzupassen. Beispiel: <code>df.head(10)</code> gibt die ersten zehn Zeilen aus. Der Aufruf von <code>head()</code> ist also äquivalent zum Aufruf <code>head(5)</code>.</p>
</div>
</div>
</div>
<p>Nachdem wir uns die Daten angeschaut haben, sollten wir einen weiteren, tieferen Blick auf die Daten werfen. Mit der Funktion <code>info()</code> können wir uns die Spaltennamen und die Datentypen der Spalten ausgeben lassen. Dies ist ein guter Einstieg, um zu verstehen, welche Daten wir vor uns haben.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df.info()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 10000 entries, 0 to 9999
Data columns (total 8 columns):
 #   Column           Non-Null Count  Dtype  
---  ------           --------------  -----  
 0   Project_ID       10000 non-null  object 
 1   Projektname      10000 non-null  object 
 2   projekt_Beginn   10000 non-null  object 
 3   Plan Bau fertig  10000 non-null  object 
 4   Ist_Bau_fertig   10000 non-null  object 
 5   plan_Kosten      10000 non-null  float64
 6   Ist_Kosten       10000 non-null  float64
 7   Project_team     10000 non-null  object 
dtypes: float64(2), object(6)
memory usage: 625.1+ KB</code></pre>
</div>
</div>
<p>Die Funktion <code>info()</code> gibt uns folgende Informationen aus:</p>
<ul>
<li><code>#</code> Position der Spalte (beginnend bei <code>0</code>)</li>
<li><code>Column</code> Name der Spalte</li>
<li><code>Non-Null Count</code> Anzahl der nicht leeren Werte je Spalte</li>
<li><code>Dtype</code> Datentyp der Spalte</li>
</ul>
<p>Wir können also sehr schnell erkennen, ob der Datensatz vollständig ist. In unserem Fall sind alle Spalten vollständig. Außerdem gibt uns die Funktion <code>info()</code> Auskunft über den Datentyp der Spalten. In unserem Fall gibt es zwei Datentypen: <code>object</code> und <code>float</code>. Der Datentyp <code>float</code> repräsentiert Gleitkommazahlen. Der Datentyp <code>object</code> repräsentiert Zeichenketten (d.h. Python interpretiert die Daten als Text). Da wir beim Einlesen der Daten keine Angabe über die Datentypen gemacht haben, hat Pandas die Datentypen automatisch ermittelt. In der Regel ist dies auch eine guter erster Ansatz. Wir sollten jedoch in einem nächsten Schritt die Datentypen überprüfen und ggf. anpassen. Denn je besser der Datentyp zum Inhalt der Spalte passt, desto besser können wir mit den Daten arbeiten.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Position <code>0</code> in Python
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Die erste Position in Python ist immer <code>0</code>. Das ist ein Konzept, das wir uns merken sollten. Wir werden es in den kommenden Kapiteln immer wieder verwenden. Die erste Zeile eines DataFrames hat die Position <code>0</code>. Die erste Spalte hat die Position <code>0</code>.</p>
<p>Dies ist zunächst etwas verwirrend und ungewohnt. Jedoch ist Python hier sehr konsistent, so dass wir uns schnell daran gewöhnen werden. Grundsätzlich gilt: die erste Position in Python ist immer <code>0</code>.</p>
</div>
</div>
</div>
</section>
<section id="aufbereitung-der-daten" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="aufbereitung-der-daten">Aufbereitung der Daten</h2>
<p>Beginnen wir mit der Aufbereitung der Daten.</p>
<section id="datentypen-anpassen" class="level3">
<h3 class="anchored" data-anchor-id="datentypen-anpassen">Datentypen anpassen</h3>
<p>Wir schauen dafür zunächst, ob die Datentypen der Spalten passen.</p>
<ul>
<li><code>Project_ID</code>: die Spalte beinhaltet Buchstaben, Zeichen und Zahlen (z.B. P-62602). Der Datentyp <code>object</code> ist also passend.</li>
<li><code>Projektname</code>: die Spalte beinhaltet Text. Der Datentyp <code>object</code> ist also passend.</li>
<li><code>projekt_Beginn</code>: die Spalte beinhaltet Datumswerte. Der Datentyp <code>object</code> ist nicht passend. Wir sollten den Datentyp in ein Datumsformat umwandeln.</li>
<li><code>Plan Bau fertig</code>: die Spalte beinhaltet Datumswerte. Der Datentyp <code>object</code> ist nicht passend. Wir sollten den Datentyp in ein Datumsformat umwandeln.</li>
<li><code>Ist_Bau_fertig</code>: die Spalte beinhaltet Datumswerte. Der Datentyp <code>object</code> ist nicht passend. Wir sollten den Datentyp in ein Datumsformat umwandeln.</li>
<li><code>plan_Kosten</code>: die Spalte beinhaltet Gleitkommazahlen. Der Datentyp <code>float</code> ist passend.</li>
<li><code>Ist_Kosten</code>: die Spalte beinhaltet Gleitkommazahlen. Der Datentyp <code>float</code> ist passend.</li>
<li><code>Project_team</code>: die Spalte beinhaltet Text. Der Datentyp <code>object</code> ist also passend.</li>
</ul>
<p>Die Anpassung der Datumsformate können wir mit der Pandas-Funktion <code>to_datetime()</code> durchführen. Wir müssen dabei nur die Spalten angeben, die wir anpassen möchten. Die Funktion <code>to_datetime()</code> wandelt die Spalten dann in ein Datumsformate um.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'projekt_Beginn'</span>] <span class="op">=</span> pd.to_datetime(df[<span class="st">'projekt_Beginn'</span>])</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Plan Bau fertig'</span>] <span class="op">=</span> pd.to_datetime(df[<span class="st">'Plan Bau fertig'</span>])</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Ist_Bau_fertig'</span>] <span class="op">=</span> pd.to_datetime(df[<span class="st">'Ist_Bau_fertig'</span>])</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Das Ergebnis können wir uns mit der Funktion <code>info()</code> anzeigen lassen.</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df.info()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 10000 entries, 0 to 9999
Data columns (total 8 columns):
 #   Column           Non-Null Count  Dtype         
---  ------           --------------  -----         
 0   Project_ID       10000 non-null  object        
 1   Projektname      10000 non-null  object        
 2   projekt_Beginn   10000 non-null  datetime64[ns]
 3   Plan Bau fertig  10000 non-null  datetime64[ns]
 4   Ist_Bau_fertig   10000 non-null  datetime64[ns]
 5   plan_Kosten      10000 non-null  float64       
 6   Ist_Kosten       10000 non-null  float64       
 7   Project_team     10000 non-null  object        
dtypes: datetime64[ns](3), float64(2), object(3)
memory usage: 625.1+ KB</code></pre>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Datumsformate
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Die Konvertierung der Daten in ein Datumsformat ist für uns in unserem Falle nicht ersichtlich. Schauen wir uns die Daten an, sehen diese für uns aus wie vor der Konvertierung. Jedoch hat Pandas die Daten intern in ein Datumsformat umgewandelt, was den Vorteil hat, dass wir auf verschiedene Funktionen zurückgreifen können, die nur mit Datumsformaten funktionieren. So können wir z.B. mit der Funktion <code>dt.weekday</code> den Wochentag auslesen.</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'projekt_Beginn'</span>].dt.weekday</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>0       1
1       3
2       4
3       2
4       6
       ..
9995    3
9996    5
9997    5
9998    0
9999    5
Name: projekt_Beginn, Length: 10000, dtype: int64</code></pre>
</div>
</div>
<p>Die Umwandlung in ein Datumsformat ist also nicht nur für die Darstellung der Daten sinnvoll, sondern auch für die weitere Analyse - zumindest dann, wenn wir mit Datumsformaten arbeiten möchten.</p>
</div>
</div>
</div>
</section>
<section id="spalten-umbenennen" class="level3">
<h3 class="anchored" data-anchor-id="spalten-umbenennen">Spalten umbenennen</h3>
<p>Das Umbennen von Spalten ist nicht zwingend notwendig. Jedoch ist die Bezeichnung von Spalten oft nicht intuitiv, inkonsistent oder unklar. Daher ist es sinnvoll, die Spalten so zu bennen, dass wir im Rahmen der Analyse (i) schnell erkennen, was in der Spalte steht und (ii) die Auswahl der Spalten intuitiv ist. Die Umbenennung der Spalten hat dabei natürlich immer eine subjektive Komponente, da jeder andere Vorstellungen hat, wie die Spalten benannt sein sollten.</p>
<p>In unserem Datensatz sind die Spaltennamen jedoch insbesondere auch nicht einheitlich benannt. So beginnen einige Spalten mit einem Großbuchstaben, andere mit einem Kleinbuchstaben. Bei einigen Spalten ist der englische Begriff <code>project</code>, bei anderen der deutsche Begriff <code>projekt</code> verwendet. Einige Spalten beinhalten Leerzeichen, andere sind mit <code>_</code> verbunden. Dies sind alles Dinge, die die weitere Analyse ein Stück weit erschweren, da wir Spalten nicht intuitiv auswählen können.</p>
<p>Lassen Sie uns die Spalten deshalb vereinheitlichen, in dem wir:</p>
<ul>
<li>alle Spalten in Kleinbuchstaben umwandeln</li>
<li>alle Leerzeichen durch <code>_</code> ersetzen</li>
<li>alle Begriffe <code>project</code> durch <code>projekt</code> ersetzen</li>
<li>wo sinnvoll kürzere Begriffe ver wenden</li>
</ul>
<p>Wir können die Spalten mit der Funktion <code>rename()</code> umbenennen. Die Funktion <code>rename()</code> erwartet als Parameter ein Dictionary, in dem wir die alten Spaltennamen als Schlüssel und die neuen Spaltennamen als Werte angeben.</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.rename(columns<span class="op">=</span>{<span class="st">'Project_ID'</span>: <span class="st">'id'</span>, <span class="co"># Spalte "Projekt_ID" wird umbenannt in "id"</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Projektname'</span>: <span class="st">'name'</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'projekt_Beginn'</span>: <span class="st">'beginn'</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Plan Bau fertig'</span>: <span class="st">'ende_plan'</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Ist_Bau_fertig'</span>: <span class="st">'ende_ist'</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'plan_Kosten'</span>: <span class="st">'kosten_plan'</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Ist_Kosten'</span>: <span class="st">'kosten_ist'</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Project_team'</span>: <span class="st">'team'</span>})</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>name</th>
      <th>beginn</th>
      <th>ende_plan</th>
      <th>ende_ist</th>
      <th>kosten_plan</th>
      <th>kosten_ist</th>
      <th>team</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>P-62602</td>
      <td>Stadtpark // Eberhardtallee</td>
      <td>2013-10-15</td>
      <td>2013-12-26</td>
      <td>2013-12-25</td>
      <td>109129.55</td>
      <td>130487.07</td>
      <td>Team 4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>P-80374</td>
      <td>Spielplatz // Geißlerweg</td>
      <td>2016-07-14</td>
      <td>2016-09-20</td>
      <td>2016-09-22</td>
      <td>59521.33</td>
      <td>66009.97</td>
      <td>Team 4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>P-96379</td>
      <td>Spielplatz // Schäferring</td>
      <td>2019-06-14</td>
      <td>2019-06-16</td>
      <td>2019-06-29</td>
      <td>82572.27</td>
      <td>107571.64</td>
      <td>Team 2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>P-31809</td>
      <td>Baumbestand // Raphaela-Scheel-Platz</td>
      <td>2019-02-06</td>
      <td>2019-02-11</td>
      <td>2019-02-11</td>
      <td>29563.59</td>
      <td>29724.17</td>
      <td>Team 1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>P-51445</td>
      <td>Landschaftsbau // Julia-Neureuther-Platz</td>
      <td>2015-04-26</td>
      <td>2015-05-16</td>
      <td>2015-05-20</td>
      <td>38315.35</td>
      <td>53783.40</td>
      <td>Team 3</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="fehler-finden" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="fehler-finden">“Fehler” finden</h3>
<div class="page-columns page-full"><p>Wir haben bereits festgestellt, dass unser Datensatz keine fehlenden Werte enthält.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> Diese kommen in der Praxis sehr häufig vor, weil z.B. Daten nicht erfasst wurden oder Daten nicht vollständig sind. Das Fehlen von Werten ist meist eine offensichtlicher “Fehler”. Andere “Fehler” sind oft nicht so offensichtlich und können sich in den Daten verstecken. Bei diesen “Fehlern” handelt es sich oft um Ausreißer oder Ungereimtheiten, auf die man oft auch erst im Rahmen der Analyse stößt (insb. durch Visualisierung der Daten). Auch haben wir den Begriff “Fehler” bewusst in Anführungszeichen gesetzt, da es sich hierbei nicht immer um fehlerhafte Daten handelt. Manchmal sind die Daten einfach nur ungewöhnlich oder erfordern eine andere Interpretation oder genauere Analyse. Die Entscheidung, wie mit diesen “Fehlern” umgegangen wird, ist abhängig von der Aufgabenstellung, vom Datensatz und von der Analyse.</p><div class="no-row-height column-margin column-container"><li id="fn3"><p><sup>3</sup>&nbsp;Man bezeichnet fehlende Werte auch als “Not a number”-Werten sog. <code>NaN</code>s.</p></li></div></div>
<p>Lassen Sie uns nun ein Beispiel für einen solchen “Fehler” betrachten und dann entscheiden, wir wir damit im Rahmen der Analyse umgehen. Dazu müssen wir uns zunächst die Daten genauer anschauen. Wir werden uns auf zwei potentielle “Fehler” konzentrieren:</p>
<ol type="1">
<li>Duplikate oder doppelte Einträge</li>
<li>Ausreißer in den Daten</li>
</ol>
<section id="duplikate-identifizieren" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="duplikate-identifizieren">Duplikate identifizieren</h4>
<p>Duplikate sind doppelte Einträge in den Daten. Sie können entstehen, wenn z.B. Daten mehrfach erfasst wurden oder wenn Daten aus verschiedenen Quellen zusammengeführt wurden. Duplikate können zu Problemen führen, wenn wir die Daten aggregieren oder zusammenführen wollen. Daher ist es sinnvoll, Duplikate zu identifizieren und (meistens) zu entfernen.</p>
<p>Wir unterscheiden zwischen drei Arten von Duplikaten:</p>
<ol type="1">
<li>Duplikate in den Zeilen, d.h. doppelte Datenpunkte (z.B. zwei Einträge für das gleiche Projekt)</li>
<li>Duplikate in den Spalten, d.h. doppelte Variablen (z.B. zwei Spalten in denen die gleichen Daten enthalten sind)</li>
<li>Duplikate innerhalb einer Variable, d.h. eigentlich einzigartige Werte tretten doppelt auf (z.B. zwei Projekte mit dem gleichen Namen)</li>
</ol>
<p>Die Punkte 1 und 2 führen nahezu immer dazu, dass man die doppelten Zeilen oder Spalten aus dem Datensatz löscht. Bei Punkt 3 ist es teilweise sinnvoll, die doppelten Werte neu zu bezeichnen oder zu kodieren. Die Beurteilung des Sachverhalts erfordert jedoch ein Verständnis der Daten und der Aufgabenstellung.</p>
<p>Lassen Sie uns für die nachfolgenden zwei Beispiele zunächst einen kleinen Beispiel-Datensatz erstellen:</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>example <span class="op">=</span> pd.DataFrame({<span class="st">'Spalte A'</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>],</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>                   <span class="st">'Spalte B'</span>: [<span class="st">'Hund'</span>, <span class="st">'Katze'</span>, <span class="st">'Vogel'</span>, <span class="st">'Katze'</span>, <span class="st">'Fisch'</span>, <span class="st">'Vogel'</span>],</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                   <span class="st">'Spalte C'</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>]})</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>example.head()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Spalte A</th>
      <th>Spalte B</th>
      <th>Spalte C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Hund</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Katze</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Vogel</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2</td>
      <td>Katze</td>
      <td>2</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>Fisch</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p><strong>Beispiel 1: Duplikate in Zeilen identifizieren und entfernen</strong></p>
<p>Wir können die Methode <code>duplicated()</code> nutzen, um Duplikate in Zeilen eines DataFrames zu <strong>identifizieren</strong>. Sie gibt eine Boolesche Reihe (True, False, True etc.) zurück, die angibt, ob eine Zeile ein Duplikat ist oder nicht. Standardmäßig werden dabei alle Spalten berücksichtigt, jedoch kann auch eine Teilmenge von Spalten angegeben werden, die bei der Suche nach Duplikaten berücksichtigt werden soll.</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>example.duplicated()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>0    False
1    False
2    False
3     True
4    False
5    False
dtype: bool</code></pre>
</div>
</div>
<p>Die Funktion gibt an, dass die Zeile mit dem Index <code>3</code> ein Duplikat ist. Wir können wegen der kleinen Größe des Datensatzes direkt sehen, dass das Duplikat im Zeilenindex 1 befindet. Bei größeren Datensätzen ist dies oft nicht mehr mit dem bloßen Auge möglich. Wir können dann etwas anders vorgehen, um uns die Duplikate anzeigen zu lassen. Wir lassen uns über den Parameter <code>keep=False</code> die Zeilen aller Duplikate anzeigen und filtern anschließend den Datensatz nach genau diesen Zeilen.</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>idx <span class="op">=</span> example.duplicated(keep<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>example[idx]</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Spalte A</th>
      <th>Spalte B</th>
      <th>Spalte C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Katze</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2</td>
      <td>Katze</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Unser Datensatz beinhaltet also einen doppelten Eintrag. Wir müssen nun entscheiden, ob wir diesen Eintrag entfernen wollen oder nicht. In diesem Fall ist es sinnvoll, den doppelten Eintrag zu entfernen, da wir in der Regel davon ausgehen, dass die Daten nur einmal erfasst wurden. Wir können dies mit der Methode <code>drop_duplicates()</code> tun.</p>
<p>Die Methode <code>drop_duplicates()</code> dient dazu, Duplikate in Zeilen eines DataFrames zu entfernen. Standardmäßig werden alle Spalten berücksichtigt und der erste Datensatz eines doppelten Datensatz behalten. Auch hier kann eine Teilmenge von Spalten angeben, die bei der Suche nach Duplikaten berücksichtigt werden soll. Zusätzlich kann auch hier angegeben werden, ob der erste, letzte oder alle Datensätze des doppelten Datensatezs gelöscht werden soll.</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>example <span class="op">=</span> example.drop_duplicates()</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>example</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Spalte A</th>
      <th>Spalte B</th>
      <th>Spalte C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Hund</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Katze</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Vogel</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>Fisch</td>
      <td>4</td>
    </tr>
    <tr>
      <th>5</th>
      <td>5</td>
      <td>Vogel</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="page-columns page-full"><p>Der Datensatz im Zeilenindex <code>3</code> wurde entfernt. Wir erkennen dies auch schon daran, dass der Index <code>3</code> nicht mehr vorhanden ist. Dies kann jedoch oft auch zu Problemen führen, da die Indizes nicht mehr fortlaufend sind. Wir können dies mit der Methode <code>reset_index()</code> beheben.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn4"><p><sup>4</sup>&nbsp;Hinweis: wir hätten diesen Schritt auch gleich mit dem Löschen der Duplikate durchführen können, indem wir bei der Funktion <code>drop_duplicates()</code> den Parameter <code>ignore_index=True</code> angegeben hätten.</p></li></div></div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>example <span class="op">=</span> example.reset_index(drop<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>example</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Spalte A</th>
      <th>Spalte B</th>
      <th>Spalte C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Hund</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Katze</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Vogel</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>Fisch</td>
      <td>4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>Vogel</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
<code>duplicated()</code> und <code>drop_duplicates()</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Die Funktionen <code>duplicated()</code> und <code>drop_duplicates</code> haben zwei wichtige Parameter (<code>drop_), die wir angeben können. Der erste Parameter ist</code>subset<code>, mit dem wir angeben, in welchen Spalten wir nach Duplikaten suchen wollen. Der zweite Parameter ist</code>keep`, mit dem wir angeben, ob wir die erste, die letzte oder alle Zeilen eines Duplikats identifizieren möchten.</p>
<p>Beispiel: Wir wollen nur Duplikate in den Spalten <code>Spalte A</code> und <code>Spalte C</code> finden und nur die erste Zeile eines Duplikats identifizieren.</p>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>example.duplicated(subset<span class="op">=</span>[<span class="st">"Spalte A"</span>, <span class="st">"Spalte C"</span>], keep<span class="op">=</span><span class="st">"last"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>0    False
1    False
2    False
3    False
4    False
dtype: bool</code></pre>
</div>
</div>
<p>Die Funktion <code>drop_duplicates()</code> hat darüber hinaus noch den Parameter <code>ignore_index</code>, mit dem wir angeben können, ob wir die Indizes neu nummerieren wollen oder nicht.</p>
<p>Beispiel: wir wollen die Duplikate in den Spalten <code>Spalte A</code> und <code>Spalte C</code> finden und nur die erste Zeile eines Duplikats identifizieren. Zusätzlich wollen wir die Indizes neu nummerieren.</p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>example.drop_duplicates(subset<span class="op">=</span>[<span class="st">"Spalte A"</span>, <span class="st">"Spalte C"</span>], </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>                        keep<span class="op">=</span><span class="st">"last"</span>, ignore_index<span class="op">=</span><span class="va">True</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Spalte A</th>
      <th>Spalte B</th>
      <th>Spalte C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Hund</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Katze</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Vogel</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>Fisch</td>
      <td>4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>Vogel</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<p><strong>Beispiel 2: Duplikate in Spalten identifizieren und entfernen</strong></p>
<p>Die Identifikation von identischen Spalten ist etwas schwieriger, da es hierfür keine vorgefertigte Funktion gibt. Hintergrund hierfür ist, dass diese Art des “Fehlers” nicht so schwerwiegend ist, wie Duplikate in Zeilen, da wir Spalten üblicherweise explizit auswählen, Zeilen jedoch im Rahmen einer Aggregation unbewusst berücksichtigt werden können.</p>
<p>Wir können Spalten nicht über die doppelte Bezeichnung identifizieren, da dies in Pandas nicht erlaubt ist. Spalten müssen eine einzigartige Bezeichnung haben. Falls dies nicht der Fall ist, wird die Spalte mit den neuen Werten überschrieben. Der untenstehende Code prouziert z.B. einen DataFrame mit drei Spalten, weil <code>Spalte A</code> schlicht mit dem neuen Wert überschrieben wird.</p>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame({<span class="st">"Spalte A"</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>],</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"Spalte B"</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>],</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"Spalte A"</span>: [<span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>],</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"Spalte C"</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]})</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Spalte A</th>
      <th>Spalte B</th>
      <th>Spalte C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>6</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>7</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>8</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>9</td>
      <td>4</td>
      <td>4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>10</td>
      <td>5</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="page-columns page-full"><p>Um Spalten mit identischem Inhalt zu identifizieren, können wir jedoch einen Trick anwenden.<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> Wir können den Datensatz transponieren (d.h. wir tauschen Zeilen und Spalten eines Datensatzes), um anschließend die doppelten Zeilen zu dentifizieren, d.h. so vorzugehen, wie wir es beim vorherigen Ansatz kennengelernt haben.</p><div class="no-row-height column-margin column-container"><li id="fn5"><p><sup>5</sup>&nbsp;Hinweis: der Trick ist nicht besonders elegant oder effizient und sollte insbesondere bei sehr großen Datensätzen nicht angewandt werden.</p></li></div></div>
<p>Lassen Sie uns unseren Beispieldatensatz <code>example</code> zunächst transponieren, um zu sehen, was wir erreichen wollen. Wir erreichen dies mit der Methode <code>transpose()</code> (oder Kurzschreibweise <code>T</code>) erreichen.</p>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>example.transpose()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Spalte A</th>
      <td>1</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th>Spalte B</th>
      <td>Hund</td>
      <td>Katze</td>
      <td>Vogel</td>
      <td>Fisch</td>
      <td>Vogel</td>
    </tr>
    <tr>
      <th>Spalte C</th>
      <td>1</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Im Beispieldatensatz konnten wir sofort erkennen, dass die Spalten <code>Spalte A</code> und <code>Spalte C</code> inhaltlich identisch sind. Nach dem Transponieren sind es die Zeilen, die identisch sind. Wir können jetzt wie oben beschrieben die doppelten Zeilen identifizieren und entfernen. Im Anschluss transponieren wir den Datensatz wieder, um das ursprüngliche Spaltenformat wiederherzustellen.</p>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>example <span class="op">=</span> example.transpose().drop_duplicates().transpose()</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>example</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Spalte A</th>
      <th>Spalte B</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Hund</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Katze</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Vogel</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>Fisch</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>Vogel</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Das obige Beispiel verdeutlicht außerdem, dass eine hilfreiche Funktionalität von DataFrames: wir können Methoden aneinanderketten. Wir können also eine Methode anwenden und das Ergebnis einer weiteren Methode übergeben. In unserem Beispiel haben wir unser Ziel in drei Schritten erreicht:</p>
<ol type="1">
<li>Datensatz transponieren (mit <code>transpose()</code>)</li>
<li>Doppelte Zeilen identifizieren (mit <code>drop_duplicates()</code>)</li>
<li>Datensatz wieder in Ursprungsformat transponieren (mit <code>transpose()</code>)</li>
</ol>
<p>Eine übliche Schreibweise für Methodenketten nutzt die <code>(.)</code>-Notation. Wir können also auch folgenden Code schreiben:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>example <span class="op">=</span> (example</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>           .transpose() <span class="co"># Transponieren des Datensatzes</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>           .drop_duplicates() <span class="co"># Doppelte Zeilen löschen (ursprünglich Spalten)</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>           .transpose() <span class="co"># Transponieren des Datensatzes (zurück in Ursprungsformat)</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>          )</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Beim obigen Code spricht man auch vom <strong>Method-Chaining</strong>. Wir werden diese Konzept noch sehr häufig anwenden, wenn wir mit DataFrames arbeiten. Es hilft komplexe Datenaufbereitungen zu strukturieren und zu vereinfachen.</p>
<p><strong>Beispiel 3: Duplikate in Spalten identifizieren und entfernen</strong></p>
<p>Ein weiteres Beispiel für “Fehler” oder Inkonsistenzen innerhalb eines Datensatzes, ist die Dopplung von Werten, die eigentlich einzigartig sein sollten. Hier gilt es dann zu prüfen, wie mit einer solchen Dopplung umzugehen ist. Nicht immer bedeutet dies, dass der Datensatz fehlerhaft ist.</p>
<p>Lassen Sie uns ein Beispiel betrachten. Wir haben einen Datensatz mit Projekten, die von einer Firma durchgeführt wurden. Jedes Projekt hat eine einzigartige ID und einen Namen. Die Kosten für jedes Projekt sind ebenfalls in der Tabelle enthalten.</p>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>example <span class="op">=</span> pd.DataFrame({<span class="st">"Unique_ID"</span>: [<span class="st">"A1"</span>, <span class="st">"B1"</span>, <span class="st">"C1"</span>, <span class="st">"D1"</span>, <span class="st">"E1"</span>],</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"Projektname"</span>: [<span class="st">"Projekt A"</span>, <span class="st">"Projekt B"</span>, <span class="st">"Projekt A"</span>, <span class="st">"Projekt D"</span>, <span class="st">"Projekt E"</span>],</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"Kosten"</span>: [<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>, <span class="dv">400</span>, <span class="dv">500</span>],</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>                          })</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>example</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Unique_ID</th>
      <th>Projektname</th>
      <th>Kosten</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A1</td>
      <td>Projekt A</td>
      <td>100</td>
    </tr>
    <tr>
      <th>1</th>
      <td>B1</td>
      <td>Projekt B</td>
      <td>200</td>
    </tr>
    <tr>
      <th>2</th>
      <td>C1</td>
      <td>Projekt A</td>
      <td>300</td>
    </tr>
    <tr>
      <th>3</th>
      <td>D1</td>
      <td>Projekt D</td>
      <td>400</td>
    </tr>
    <tr>
      <th>4</th>
      <td>E1</td>
      <td>Projekt E</td>
      <td>500</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Betrachtet man den Datensatz, so stellt man fest, dass das Projekt mit dem Namen “Projekt A” zwei Mal vorkommt. Hierbei muss es sich nicht zwangsläufig um einen Fehler handeln. Namen sind eben gerade nicht einzigartig, so dass es durchaus sein kann, dass zwei Projekte den gleichen Namen haben. Jedoch ist es wichtig, sich über die Dopplung im Klaren zu sein, da wir spätestens bei der Analyse des Datensatzes auf Probleme stoßen werden (z.B. wenn wir die Kosten pro Projekt nicht eindeutig zuordnen können). In Realität haben wir es häufig mit größeren Datenmengen zu tun, die wir nicht manuell durchsehen können. Daher ist es wichtig, dass wir solche Inkonsistenzen identifizieren, um dann zu entscheiden, wie wir damit umgehen.</p>
<p>Wir können einfach feststellen, ob eine Spalte nur einzigartige Werte beinhaltet, in dem wir testen, ob die Anzahl an Duplikaten in der Spalte gleich Null ist. Wir können dies mit der Funktion <code>sum</code> oder <code>any</code> tun.</p>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>example[<span class="st">"Projektname"</span>].duplicated().<span class="bu">sum</span>() </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>1</code></pre>
</div>
</div>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>example[<span class="st">"Projektname"</span>].duplicated().<span class="bu">any</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>True</code></pre>
</div>
</div>
<p>Wir können auch direkt die einzigartigen Werte mit der Methode <code>.unique()</code> identifizieren. Diese Methode gibt uns eine Liste mit allen einzigartigen Werten in der Spalte zurück.</p>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>uniques <span class="op">=</span> example[<span class="st">"Projektname"</span>].unique()</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>uniques</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>array(['Projekt A', 'Projekt B', 'Projekt D', 'Projekt E'], dtype=object)</code></pre>
</div>
</div>
<p>Wenn wir nun die Länge der Liste mit den einzigartigen Werten mit der Länge des ursprünglichen DataFrames vergleichen, können wir feststellen, ob es Duplikate gibt.</p>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(uniques) <span class="op">==</span> <span class="bu">len</span>(example)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>False</code></pre>
</div>
</div>
<p>Lassen Sie uns nun zurück zur <strong>Bau und Werken GmbH</strong> gehen.</p>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>name</th>
      <th>beginn</th>
      <th>ende_plan</th>
      <th>ende_ist</th>
      <th>kosten_plan</th>
      <th>kosten_ist</th>
      <th>team</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>P-62602</td>
      <td>Stadtpark // Eberhardtallee</td>
      <td>2013-10-15</td>
      <td>2013-12-26</td>
      <td>2013-12-25</td>
      <td>109129.55</td>
      <td>130487.07</td>
      <td>Team 4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>P-80374</td>
      <td>Spielplatz // Geißlerweg</td>
      <td>2016-07-14</td>
      <td>2016-09-20</td>
      <td>2016-09-22</td>
      <td>59521.33</td>
      <td>66009.97</td>
      <td>Team 4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>P-96379</td>
      <td>Spielplatz // Schäferring</td>
      <td>2019-06-14</td>
      <td>2019-06-16</td>
      <td>2019-06-29</td>
      <td>82572.27</td>
      <td>107571.64</td>
      <td>Team 2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>P-31809</td>
      <td>Baumbestand // Raphaela-Scheel-Platz</td>
      <td>2019-02-06</td>
      <td>2019-02-11</td>
      <td>2019-02-11</td>
      <td>29563.59</td>
      <td>29724.17</td>
      <td>Team 1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>P-51445</td>
      <td>Landschaftsbau // Julia-Neureuther-Platz</td>
      <td>2015-04-26</td>
      <td>2015-05-16</td>
      <td>2015-05-20</td>
      <td>38315.35</td>
      <td>53783.40</td>
      <td>Team 3</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
</section>
<section id="was-noch" class="level3">
<h3 class="anchored" data-anchor-id="was-noch">WAS NOCH:</h3>
<ul>
<li>Duplikate innerhalb einer Variable identifizieren</li>
<li>Anwendung auf eigenen Datensatz</li>
<li>genutzte Funktionen und Methoden zusammenfassen</li>
</ul>
</section>
</section>
<section id="genutzte-funktionen-und-methoden" class="level2">
<h2 class="anchored" data-anchor-id="genutzte-funktionen-und-methoden">Genutzte Funktionen und Methoden</h2>
<ul>
<li><code>pd.DataFrame()</code>: Erzeugen eines DataFrames</li>
<li><code>.read_csv()</code>: Einlesen eines CSV-Files (<a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html">siehe hier</a>)</li>
<li><code>.drop_duplicates()</code>: Entfernen von Duplikaten (<a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.drop_duplicates.html">siehe hier</a>)</li>
<li><code>.duplicated()</code>: Identifizieren von Duplikaten (<a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.duplicated.html">siehe hier</a>)</li>
<li><code>.reset_index()</code>: Wiederherstellen der Indizes (<a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.reset_index.html">siehe hier</a>)</li>
<li><code>.transpose()</code>: Transponieren eines DataFrames (<a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.transpose.html">siehe hier</a>)</li>
</ul>


</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="../../Chapters/04_Chapter/Deskriptive_Problemstellung.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">Ausgangslage und Problemstellung</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../references.html" class="pagination-link">
        <span class="nav-page-text">LITERATUR</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">
        <ul class="footer-items list-unstyled">
    <li class="nav-item">
 © 2023 by F. Zeidler
  </li>  
</ul>
      </div>
  </div>
</footer>



</body></html>