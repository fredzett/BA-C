<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Eine kurze Einführung für Studierende der Betriebswirtschaftslehre">

<title>Business Analytics &amp; Coding - FALLSTUDIE</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../Chapters/04_Chapter/Deskriptive_Analyse.html" rel="next">
<link href="../../Chapters/02_Chapter/Python_Basics.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">FALLSTUDIE</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">Inhalt</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">VORWORT</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../Chapters/01_Chapter/Einleitung.html" class="sidebar-item-text sidebar-link">EINLEITUNG</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Chapters/01_Chapter/Was_ist_BA.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Business Analytics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Chapters/01_Chapter/Coding.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Werkzeug: Coding!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Chapters/01_Chapter/Warum_Python.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Warum Python?</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../Chapters/02_Chapter/Getting_Ready.html" class="sidebar-item-text sidebar-link">VORBEREITUNG</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Chapters/02_Chapter/Installation.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Installation &amp; Setup</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Chapters/02_Chapter/Introduction_notebook.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Einführung Notebooks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Chapters/02_Chapter/Python_Basics.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Kurze Einführung in Python</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Chapters/03_Chapter/Fallstudie_1.html" class="sidebar-item-text sidebar-link active">FALLSTUDIE</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../Chapters/04_Chapter/Deskriptive_Analyse.html" class="sidebar-item-text sidebar-link">DESKRIPTIVE ANALYSE</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Chapters/04_Chapter/Einlesen_Aufbereiten.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Einlesen und Aufbereiten</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../references.html" class="sidebar-item-text sidebar-link">LITERATUR</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../Appendices/Appendix.html" class="sidebar-item-text sidebar-link">ANHANG</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Appendices/Modules/Pandas.html" class="sidebar-item-text sidebar-link">Pandas</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#zwecke-der-fallstudie" id="toc-zwecke-der-fallstudie" class="nav-link active" data-scroll-target="#zwecke-der-fallstudie">Zwecke der Fallstudie</a></li>
  <li><a href="#fallstudie-fashion-avenue-gmbh" id="toc-fallstudie-fashion-avenue-gmbh" class="nav-link" data-scroll-target="#fallstudie-fashion-avenue-gmbh">Fallstudie: Fashion Avenue GmbH</a>
  <ul>
  <li><a href="#einleitung" id="toc-einleitung" class="nav-link" data-scroll-target="#einleitung">Einleitung</a></li>
  <li><a href="#analyseprozess" id="toc-analyseprozess" class="nav-link" data-scroll-target="#analyseprozess">Analyseprozess</a>
  <ul class="collapse">
  <li><a href="#problemstellung" id="toc-problemstellung" class="nav-link" data-scroll-target="#problemstellung">Problemstellung</a></li>
  <li><a href="#einlesen-der-daten" id="toc-einlesen-der-daten" class="nav-link" data-scroll-target="#einlesen-der-daten">Einlesen der Daten</a></li>
  <li><a href="#aufbereitung-der-daten" id="toc-aufbereitung-der-daten" class="nav-link" data-scroll-target="#aufbereitung-der-daten">Aufbereitung der Daten</a></li>
  <li><a href="#erkenntnisse-gewinnen-transformation-und-visualisierung" id="toc-erkenntnisse-gewinnen-transformation-und-visualisierung" class="nav-link" data-scroll-target="#erkenntnisse-gewinnen-transformation-und-visualisierung">Erkenntnisse gewinnen: Transformation und Visualisierung</a></li>
  <li><a href="#zwischenfazit" id="toc-zwischenfazit" class="nav-link" data-scroll-target="#zwischenfazit">Zwischenfazit</a></li>
  <li><a href="#erkenntnisse-gewinnen-modellieren" id="toc-erkenntnisse-gewinnen-modellieren" class="nav-link" data-scroll-target="#erkenntnisse-gewinnen-modellieren">Erkenntnisse gewinnen: Modellieren</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">FALLSTUDIE</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="zwecke-der-fallstudie" class="level2">
<h2 class="anchored" data-anchor-id="zwecke-der-fallstudie">Zwecke der Fallstudie</h2>
<p>Wir haben in <a href="../01_Chapter/Was_ist_BA.html#sec-analyseprozess"><span>Kapitel&nbsp;1.4</span></a> bereits erläutert, dass es sich bei Business Analytics um einen Prozess handelt, der verschiedene Schritte umfasst. In diesem Kapitel werden wir nun einen ersten, vorsichtigen Blick auf einen konkreten Fall (“Fallstudie”). Die Fallstudie soll Ihnen einen Eindruck davon vermitteln, was Sie in diesem Kurs erwartet. Diese Fallstudie verfolgt somit zwei Ziele:</p>
<ol type="1">
<li><p>Anwendungsbeispiele für die einzelnen Schritte des Analyseprozesses geben und</p></li>
<li><p>Programmierbeispiele für die einzelnen Schritte des Analyseprozesses vorzustellen.</p></li>
</ol>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>In dieser Fallstudie werden Dinge vorgegriffen, die Sie noch nicht gelernt haben. Ziel der Fallstudie ist es ausdrücklich nicht, dass Sie jede Code-Zeile nachvollziehen können. Vielmehr sollen Sie einen Eindruck davon vermittelt bekommen, was Sie in diesem Kurs erwartet bzw. was Sie - vorausgesetzt Sie arbeiten kontinuierlich mit - am Ende in der Lage sind selber umzusetzen.</p>
</div>
</div>
<p>Wir haben uns bewusst für diesen <strong>Top-Down-Ansatz</strong> entschieden, d.h. wir beginnen mit dem großen Ganzen und gehen dann Schritt für Schritt in die Details.</p>
<p>Warum glauben wir, dass dieser Ansatz sinnvoll ist?</p>
<p>Als <strong>Analogie</strong> können Sie sich vorstellen, dass wir einem kleinen Kind beibringen wollen Fußball zu spielen. Sie würden nie auf die Idee kommen, dem kleinen Kind als erstes die korrekte Fußstellung beim Freistoß oder gar die Abseitsregel zu erläutern. Stattdessen würden Sie vielleicht mit dem Kind auf den nächsten Fußballplatz gehen und zuschauen, wie andere Fußball spielen. Sie würden also zunächst das große Ganze zeigen - ohne, dass das Kind alle Details bereits versteht - und es so neugierig auf das Spiel machen. Die Details und Feinheiten folgen dann Schritt für Schritt. Das Kind wird einen Ball haben und auch spielen wollen.</p>
<p>Gehen Sie diese Fallstudie also nicht mit dem Anspruch durch, alles bereits verstehen und selber umsetzen zu müssen. Vielmehr sollten Sie die übergeordnete Fragestellung durchdenken, um dann zu erleben, wie diese Fragestellung mittels Python beantwortet wird. Dies wird Sie hoffentlich für das große Ganze begeistern und so das Fundament für alles weitere legen.</p>
</section>
<section id="fallstudie-fashion-avenue-gmbh" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="fallstudie-fashion-avenue-gmbh">Fallstudie: Fashion Avenue GmbH</h2>
<section id="einleitung" class="level3">
<h3 class="anchored" data-anchor-id="einleitung">Einleitung</h3>
<p>Die Fashion Avenue GmbH ist ein Einzelhandelsunternehmen, das sich auf den Verkauf von Bekleidung und Accessoires spezialisiert hat. Sie bietet eine breite Palette von Produkten für Frauen, Männer und Kinder an und betreibt in Bielefeld mehrere Filialen.</p>
<p>Die Firma wurde vor mehreren Jahren von Anna Meyer - einer erfahrenen Einzelhändlerin - gegründet. Sie hat sich zum Ziel gesetzt, hochwertige und modische Produkte zu erschwinglichen Preisen anzubieten. Im Laufe der Jahre hat sich die Firma zu einem wichtigen Akteur in der Einzelhandelsbranche Bielefelds entwickelt und hat sich einen Namen als eine Marke gemacht, die für Qualität und Service bekannt ist. Die Mitarbeiter des Unternehmens “Fashion Avenue” sind ein engagiertes Team von Verkäufer:innen. Sie bestehen aus einer Mischung aus erfahrenen Verkäufern und neuen, jungen und motivierten Mitarbeitern, die die Marke repräsentieren und für ihre hohe Kundenorientierung und ihren ausgezeichneten Service bekannt sind.</p>
<p>Seit einigen Monaten sind die Verkäufe jedoch rückläufig und Anna Meyer fragt sich, was der Grund dafür sein könnte. Es wurden auch bereits Gespräche mit einigen Mitarbeiter:innen geführt, jedoch kann niemand den Grund für den rückläufigen Umsatz erkennen.</p>
<p>Um dies herauszufinden, hat das Unternehmen begonnen, Daten über alle Transaktionen des letzten Jahres zu sammeln und möchte nun diese Daten analysieren, um die Ursache für den Rückgang der Verkäufe zu finden.</p>
</section>
<section id="analyseprozess" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="analyseprozess">Analyseprozess</h3>
<p>Der Analyseprozess besteht aus folgenden Schritten, die wir im Folgenden durchlaufen werden:</p>
<ol type="1">
<li>Problemstellung</li>
<li>Einlesen der Daten</li>
<li>Aufbereitung der Daten</li>
<li>Transformation der Daten</li>
<li>Visualisierung der Daten</li>
<li>Modellierung der Daten</li>
<li>Kommunikation der Ergebnisse (TODO: bedingt Interpretation der Ergebnisse)</li>
</ol>
<p>In <a href="../01_Chapter/Was_ist_BA.html#sec-analyseprozess"><span>Kapitel&nbsp;1.4</span></a> haben wir diesen graphisch wiefolgt zusammengefasst:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../_assets/Analyse_Prozess.svg" class="img-fluid figure-img" style="width:100.0%"></p>
<p></p><figcaption class="figure-caption">Analyseprozess</figcaption><p></p>
</figure>
</div>
<p>Lassen Sie uns nun die einzelnen Schritte genauer betrachten.</p>
<section id="problemstellung" class="level4">
<h4 class="anchored" data-anchor-id="problemstellung">Problemstellung</h4>
<p>Der erste Schritt der Datenanalyse ist die Definition des Analyseproblems. Dieser Schritt beinhaltet noch keine Datenanalyse im eigentlichen Sinne, ist jedoch essenziell für alle weiteren Schritte. Denn: ohne ein klar umrissenes Analyseproblem ist es nicht möglich, die richtigen Daten auszuwählen, die richtigen Analysen durchzuführen etc. Wir laufen zudem Gefahr, dass wir uns mit unser Analyse “verzetteln”, d.h. wir Ergebnisse produzieren, jedoch keine Antwort auf die eigentliche Fragestellung liefern.</p>
<p>Machen wir uns also zunächst klar, was wir herausfinden wollen. Aus der Einleitung wissen wir, dass die Verkäufe rückläufig sind und der Grund dafür bisher nicht identifiziert werden konnte. Die Fragestellung könnte also lauten:</p>
<blockquote class="blockquote">
<p><strong>Was ist der Grund für den Rückgang des Umsatzes?</strong></p>
</blockquote>
</section>
<section id="einlesen-der-daten" class="level4">
<h4 class="anchored" data-anchor-id="einlesen-der-daten">Einlesen der Daten</h4>
<p>Natürlich fokussieren wir uns in diesem Kurs auf die technischen Aspekte des Einlesens von Daten. Jedoch ist es wichtig an dieser Stelle zu betonen, dass dem Einlesen der Daten natürlich mindestens zwei weitere Schritte vorausgehen:</p>
<p>Zunächst müssen wir uns die Frage stellen, welche Daten wir benötigen, um die Fragestellung zu beantworten. Wir müssen uns Fragen, welche Variablen für unsere Analyse relevant sind. Bei der Überlegung geht es explizit auch um Daten, die im Unternehmen vielleicht gar nicht vorliegen. Schließlich gibt es auch die Möglichkeit, Daten zu generieren, die wir für unsere Analyse benötigen. Neben der Identifizierung der benötigten Daten ist es dann wichtig zu überprüfen, ob und in welcher Form die Daten überhaupt vorhanden sind. Idealerweise liegen die benötigten Daten bereits intern vor - z.B. in Form einer bestehenden Datenbank oder Excel-Dateien. Sollte dies nicht der Fall sein, gibt es vielleicht die Möglichkeit Daten extern - z.B. über externe Datenanbieter - einzukaufen. Auch besteht ggf. die Möglichkeit Daten intern zu erheben (z.B. über Kundenumfragen) oder zu generieren (z.B. über die Simulation von Prozessen etc.).</p>
<p>In Summe sind diese Voranalysen wichtig und als Unternehmen sollten wir uns diese Zeit nehmen, um die Datenanalyse effizient und zielführend durchzuführen. Auch sollte dem Hang widerstanden werden “nur” interne und bereits verfügbare Daten zu analysieren. Dies mag auf den ersten Blick einfacher erscheinen, jedoch kann es sein, dass wir uns dadurch der Möglichkeit berauben, die Fragestellung sinnvoll oder zumindest besser zu beantworten.</p>
<p>In unserem vorliegenden Fall haben wir die für uns (zumindest im ersten Schritt) relevanten Daten bereits in Form von Transaktionsdaten vorliegen. Die Daten wurden aus dem ERP-System exportiert und liegen nun als CSV-Datei vor.</p>
<p>Um die Daten einzulesen und weiterzuverarbeiten, verwenden wir die Python-Bibliothek <strong>pandas</strong>. Die Python-Bibliothek (siehe <a href="https://pandas.pydata.org/pandas-docs/stable/index.html">Dokumentation</a>]) ist ein wichtiges Werkzeug für die Datenanalyse. Sie ermöglicht das einfache Einlesen, Verarbeiten und Manipulieren von Daten in Python. Mit pandas kann man schnell und einfach Tabellen (Dataframes) erstellen, in denen die Daten gespeichert werden. Die Bibliothek bietet zudem viele nützliche Funktionen, wie z.B. die Möglichkeit, Daten zu filtern, zu sortieren und zu aggregieren. Auch das Zusammenführen von mehreren Tabellen ist mit pandas sehr einfach möglich. Daher wird die Bibliothek oft in der Datenanalyse verwendet und ist ein wichtiger Bestandteil unseres “Analyse-Werkzeugkoffers” in Python.</p>
<p>Wir lesen die Daten nun mit der Funktion <code>read_csv()</code> ein und weisen die Daten der Variable <code>df</code> zu. Danach geben wir - mit der Funktion <code>head()</code>- die ersten fünf Zeilen der Tabelle aus, um einen ersten Überblick über die Daten zu erhalten.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Importieren der Bibliothek pandas</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Einlesen der Daten (hier: csv-Datei)</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"../../_data/transactions_fashion_avenue.csv"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Ausgabe der ersten fünf Zeilen der Tabelle</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Kundenname</th>
      <th>Alter</th>
      <th>Zahlungsmethode</th>
      <th>ø Preis</th>
      <th>Menge</th>
      <th>Datum</th>
      <th>Uhrzeit</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Gislinde Börner</td>
      <td>29</td>
      <td>EC-Karte</td>
      <td>14.99</td>
      <td>4</td>
      <td>01.01.2022</td>
      <td>10:24:44</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Pierre Ullmann</td>
      <td>28</td>
      <td>Bar</td>
      <td>17.99</td>
      <td>4</td>
      <td>01.01.2022</td>
      <td>10:55:09</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Rainer Birnbaum</td>
      <td>57</td>
      <td>Bar</td>
      <td>43.99</td>
      <td>4</td>
      <td>01.01.2022</td>
      <td>11:25:31</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Ekaterina Binner</td>
      <td>47</td>
      <td>Kreditkarte</td>
      <td>36.99</td>
      <td>3</td>
      <td>01.01.2022</td>
      <td>11:30:28</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Prof. Mandy Riehl</td>
      <td>59</td>
      <td>Bar</td>
      <td>35.99</td>
      <td>4</td>
      <td>01.01.2022</td>
      <td>11:46:50</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="aufbereitung-der-daten" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="aufbereitung-der-daten">Aufbereitung der Daten</h4>
<p>Nachdem wir die Daten eingelesen haben, können wir uns nun mit der Aufbereitung der Daten beschäftigen. Hierzu gehören z.B. das Entfernen von fehlenden Werten, das Korrigieren von offensichtlich fehlerhaften Werte, das Umwandeln von Datentypen, das Umbennen von Spalten etc.</p>
<p>Schauen wir uns zunächst an, ob Daten fehlen. Dazu verwenden wir die Funktion <code>info()</code>. Diese Funktion gibt uns Informationen über die Tabelle, wie z.B. die Anzahl der Zeilen, die Anzahl der Spalten, den Datentyp der Spalten, die Anzahl der nicht-leeren Werte etc.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ausgabe von Informationen über die Tabelle</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>df.info()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 10000 entries, 0 to 9999
Data columns (total 7 columns):
 #   Column           Non-Null Count  Dtype  
---  ------           --------------  -----  
 0   Kundenname       10000 non-null  object 
 1   Alter            10000 non-null  int64  
 2   Zahlungsmethode  10000 non-null  object 
 3   ø Preis          10000 non-null  float64
 4   Menge            10000 non-null  int64  
 5   Datum            10000 non-null  object 
 6   Uhrzeit          10000 non-null  object 
dtypes: float64(1), int64(2), object(4)
memory usage: 547.0+ KB</code></pre>
</div>
</div>
<p>Wir sehen, dass es sich bei dem Datensatz um 10.000 Transaktionen handelt und dass keine der Spalten fehlende Werte enthält. Im vorliegenden Fall ist der Datensatz bereits realtiv sauber und wir müssen keine größeren Aufbereitungen vornehmen.</p>
<p>Lassen Sie uns lediglich zwei Dinge verändern, die uns das Leben in der weiteren Analyse vereinfachen werden:</p>
<div class="page-columns page-full"><p><strong>1. Umbennen der Spalte <code>ø Preis</code></strong><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>: wir bennen die Spalte in <code>Preis</code> um. Das erleichtert uns den Verweis auf die Spalte zukünftig etwas. Wir verwenden hierfür die Funktion <code>rename()</code>.</p><div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;Hinweis: ein­fach­heits­hal­ber haben wir hier den durschnittlichen Preis der gesamten Transaktion geben, d.h. <span class="math inline">\(\frac{\text{Preis der Transaktion}}{\text{Anzahl gekaufter Produkte}} = ø Preis.\)</span> Reale Daten würden meist die Preise je Produkt enthalten.</p></li></div></div>
<p><strong>2. Ändern des Datentyps der Spalten <code>Datum</code> und <code>Uhrzeit</code></strong>: die beiden Spalten <code>Datum</code> und <code>Uhrzeit</code> sind aktuell als <code>object</code> gespeichert. Der Datentyp <code>object</code> ist ein generischer Datentyp, der für alle Arten von Daten verwendet werden kann, er bietet sich an, wenn wir in einer Spalte z.B. sowohl Zahlen als auch Texte speichern wollen. Ein Nachteil des Datentyps <code>object</code> ist, dass wir mit diesen Daten nicht weiterrechnen bzw., dass viele für spezielle Datentypen entwickelte Funktionen nicht angewendet werden können. In unserem Fall handelt es sich bei den Spalten <code>Datum</code> und <code>Uhrzeit</code> um Datumsangaben und wir möchten diese Spalten später auch als solche verwenden. So können wir z.B. die Spalte <code>Datum</code> nutzen, um die Transaktionen nach Wochentagen oder Monaten zu gruppieren. Dies ist jedoch nur möglich, wenn die Spalte als Datumsangabe gespeichert ist. Wir können den Datentyp der Spalten <code>Datum</code> mit der Funktion <code>astype()</code> in den Datentype <code>datetime64[ns]</code> ändern.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Umbenennen der Spalte "ø Preis" in "Preis"</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.rename(columns<span class="op">=</span>{<span class="st">"ø Preis"</span>: <span class="st">"Preis"</span>})</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Ändern des Datentyps der Spalten "Datum" und "Uhrzeit"</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.astype({<span class="st">"Datum"</span>: <span class="st">"datetime64[ns]"</span>})</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wir können nun nochmals die Funktion <code>info()</code> verwenden, um zu überprüfen, ob die Änderungen korrekt durchgeführt wurden.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ausgabe von Informationen über die Tabelle</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>df.info()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 10000 entries, 0 to 9999
Data columns (total 7 columns):
 #   Column           Non-Null Count  Dtype         
---  ------           --------------  -----         
 0   Kundenname       10000 non-null  object        
 1   Alter            10000 non-null  int64         
 2   Zahlungsmethode  10000 non-null  object        
 3   Preis            10000 non-null  float64       
 4   Menge            10000 non-null  int64         
 5   Datum            10000 non-null  datetime64[ns]
 6   Uhrzeit          10000 non-null  object        
dtypes: datetime64[ns](1), float64(1), int64(2), object(3)
memory usage: 547.0+ KB</code></pre>
</div>
</div>
<p>Wie wir sehen können, wurden die Änderungen korrekt durchgeführt.</p>
</section>
<section id="erkenntnisse-gewinnen-transformation-und-visualisierung" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="erkenntnisse-gewinnen-transformation-und-visualisierung">Erkenntnisse gewinnen: Transformation und Visualisierung</h4>
<div class="page-columns page-full"><p>Wie bereits im Kapitel <a href="../01_Chapter/Was_ist_BA.html#sec-analyseprozess"><span>Kapitel&nbsp;1.4</span></a> beschrieben, befinden wir uns nun in der explorativen Analysephase, in der sich die Schritte<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>:</p><div class="no-row-height column-margin column-container"><li id="fn2"><p><sup>2</sup>&nbsp;Hinweis: den Schritt der Modellierung lassen wir an dieser Stelle noch aus</p></li></div></div>
<ul>
<li>Transformation der Daten</li>
<li>Visualisierung der Daten</li>
</ul>
<p>oft iterativ wiederholen.</p>
<p>Wir haben einen “sauberen” Datensatz vorliegen und können uns nun mit der Fragestellung beschäftigen und versuchen, die Ursache für den Umsatzrückgang zu finden. In diesem Schritt ist es üblich, dass wir erste Hypothesen aufstellen und versuchen, diese mit den Daten und mittels <strong>einfacher statistischer Methoden</strong> (z.B. Durchschnitte über Gruppen bilden) zu überprüfen.</p>
<p>Im ersten Schritt sollten wir jedoch zunächst überprüfen, ob die Ist-Situation - d.h. der vom Unternehmen beschriebene Umsatzrückgang - aus den Daten ersichtlich wird. Hierfür könnten wir z.B. die monatlichen Umsätze berechnen und schauen, ob wir einen negativen Trend beobarten können.</p>
<p>Schauen wir uns dafür den Datensatz nochmals an:</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ausgabe der ersten 5 Zeilen</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Kundenname</th>
      <th>Alter</th>
      <th>Zahlungsmethode</th>
      <th>Preis</th>
      <th>Menge</th>
      <th>Datum</th>
      <th>Uhrzeit</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Gislinde Börner</td>
      <td>29</td>
      <td>EC-Karte</td>
      <td>14.99</td>
      <td>4</td>
      <td>2022-01-01</td>
      <td>10:24:44</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Pierre Ullmann</td>
      <td>28</td>
      <td>Bar</td>
      <td>17.99</td>
      <td>4</td>
      <td>2022-01-01</td>
      <td>10:55:09</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Rainer Birnbaum</td>
      <td>57</td>
      <td>Bar</td>
      <td>43.99</td>
      <td>4</td>
      <td>2022-01-01</td>
      <td>11:25:31</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Ekaterina Binner</td>
      <td>47</td>
      <td>Kreditkarte</td>
      <td>36.99</td>
      <td>3</td>
      <td>2022-01-01</td>
      <td>11:30:28</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Prof. Mandy Riehl</td>
      <td>59</td>
      <td>Bar</td>
      <td>35.99</td>
      <td>4</td>
      <td>2022-01-01</td>
      <td>11:46:50</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Es wird deutlich, dass die Information <code>Umsatz</code> nicht (explizit) im Datensatz enthalten ist. Wir können jedoch die Information <code>Umsatz</code> aus den Spalten <code>Menge</code> und <code>Preis</code> berechnen. Wir können dies über die Funktion <code>assign()</code> erreichen. Darüber hinaus können wir auch aus der Spalte <code>Datum</code> weitere Informationen (Monat, Woche etc.) extrahieren. Wir können dies mit der Funktion <code>dt.</code> erreichen.</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Hinzufügen einer neuen Spalte "Umsatz", "Wochentag" und "Monat"</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.assign(Umsatz <span class="op">=</span> df[<span class="st">"Menge"</span>] <span class="op">*</span> df[<span class="st">"Preis"</span>], </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>               Monat <span class="op">=</span> df[<span class="st">"Datum"</span>].dt.month, </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>               Woche <span class="op">=</span> df[<span class="st">"Datum"</span>].dt.week,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>               Wochentag <span class="op">=</span> df[<span class="st">"Datum"</span>].dt.day_name())</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Ausgabe der ersten fünf Zeilen der Tabelle</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/cj/9s881x057_12d_qyp3jcmb380000gn/T/ipykernel_18074/3851467052.py:4: FutureWarning:

Series.dt.weekofyear and Series.dt.week have been deprecated.  Please use Series.dt.isocalendar().week instead.
</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="6">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Kundenname</th>
      <th>Alter</th>
      <th>Zahlungsmethode</th>
      <th>Preis</th>
      <th>Menge</th>
      <th>Datum</th>
      <th>Uhrzeit</th>
      <th>Umsatz</th>
      <th>Monat</th>
      <th>Woche</th>
      <th>Wochentag</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Gislinde Börner</td>
      <td>29</td>
      <td>EC-Karte</td>
      <td>14.99</td>
      <td>4</td>
      <td>2022-01-01</td>
      <td>10:24:44</td>
      <td>59.96</td>
      <td>1</td>
      <td>52</td>
      <td>Saturday</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Pierre Ullmann</td>
      <td>28</td>
      <td>Bar</td>
      <td>17.99</td>
      <td>4</td>
      <td>2022-01-01</td>
      <td>10:55:09</td>
      <td>71.96</td>
      <td>1</td>
      <td>52</td>
      <td>Saturday</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Rainer Birnbaum</td>
      <td>57</td>
      <td>Bar</td>
      <td>43.99</td>
      <td>4</td>
      <td>2022-01-01</td>
      <td>11:25:31</td>
      <td>175.96</td>
      <td>1</td>
      <td>52</td>
      <td>Saturday</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Ekaterina Binner</td>
      <td>47</td>
      <td>Kreditkarte</td>
      <td>36.99</td>
      <td>3</td>
      <td>2022-01-01</td>
      <td>11:30:28</td>
      <td>110.97</td>
      <td>1</td>
      <td>52</td>
      <td>Saturday</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Prof. Mandy Riehl</td>
      <td>59</td>
      <td>Bar</td>
      <td>35.99</td>
      <td>4</td>
      <td>2022-01-01</td>
      <td>11:46:50</td>
      <td>143.96</td>
      <td>1</td>
      <td>52</td>
      <td>Saturday</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Wir können nun den Umsatztrend über die Zeit untersuchen. Um den Trend in einer Zeitreihe zu analysieren bietet es sich an, die Zeitreihe graphisch darzustellen. Lassen Sie uns zunächst die Umsatzdaten in einem Liniendiagramm darstellen. Auch wenn dies nicht zwingend notwendig ist und es auch andere Ansätze gäbe, verwenden wir die Bibliothek <code>seaborn</code> (siehe <a href="https://seaborn.pydata.org/">hier</a>). Die Bibliothek wurde für die Zwecke der explorativen Datenanalyse entwickelt und bietet eine Vielzahl von Funktionen, die es uns ermöglichen, die Daten schnell und einfach zu visualisieren. Um ein Liniendiagramm zu erstellen, verwenden wir die Funktion <code>lineplot()</code>.</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Laden der Bibliothek seaborn</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Erstellen eines Liniendiagramms</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>line <span class="op">=</span> sns.lineplot(data<span class="op">=</span>df, x<span class="op">=</span><span class="st">"Datum"</span>, y<span class="op">=</span><span class="st">"Umsatz"</span>, ci<span class="op">=</span><span class="va">None</span>)<span class="op">;</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Fallstudie_1_files/figure-html/cell-9-output-1.png" width="599" height="422" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Der Trend ist deutlich erkennbar. Der Umsatz scheint kontinuierlich zu sinken. Jedoch ist der Umsatz sehr volatil, da wir jede einzelne Transaktion im Graphen visualisiert haben. Es macht daher Sinn, die Umsatzdaten zu aggregieren und dann zu visualisieren. Wir können z.B. die Umsätze einer Woche oder eines Monats aggregieren und dann in einem Liniendiagramm darstellen. Lassen Sie uns die Wochenumsätze betrachten. Hierfür müssen wir die Transaktionen für jede Woche im Jahr (d.h. Wochen 1 bis 52) aufsummieren. Dazu verwenden wir die Funktion <code>groupby()</code>, um die Daten zu gruppieren und die Funktion <code>agg()</code> um die Daten zu aggregieren. In unserem speziellen Fall wollen wir die Summe der Umsätze pro Woche berechnen.</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregieren der Umsätze pro Woche</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>umsatz_pro_woche <span class="op">=</span> df.groupby(<span class="st">"Woche"</span>).agg({<span class="st">"Umsatz"</span>: <span class="st">"sum"</span>})</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>sns.lineplot(data<span class="op">=</span>umsatz_pro_woche, x<span class="op">=</span>umsatz_pro_woche.index, y<span class="op">=</span><span class="st">"Umsatz"</span>)<span class="op">;</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Fallstudie_1_files/figure-html/cell-10-output-1.png" width="610" height="422" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Wir sehen, dass der Umsatzrückgang auch für die Wochenumsätze deutlich erkennbar ist. Lassen Sie uns nun die Monatsumsätze betrachten. Hierfür müssen wir die Transaktionen für jeden Monat im Jahr (d.h. Monate 1 bis 12) aufsummieren. Der obige Code kann hierfür nahezu unverändert verwendet werden; lediglich die Spalte <code>Woche</code> muss durch die Spalte <code>Monat</code> ersetzt werden.</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregieren der Umsätze pro Monat</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>umsatz_pro_monat <span class="op">=</span> df.groupby(<span class="st">"Monat"</span>).agg({<span class="st">"Umsatz"</span>: <span class="st">"sum"</span>})</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>sns.lineplot(data<span class="op">=</span>umsatz_pro_monat, x<span class="op">=</span>umsatz_pro_monat.index, y<span class="op">=</span><span class="st">"Umsatz"</span>)<span class="op">;</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Fallstudie_1_files/figure-html/cell-11-output-1.png" width="619" height="422" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Nachdem wir die Problembeschreibung validiert haben, können wir nun mit der Analyse der Ursachen beginnen. Lassen Sie uns dafür zunächst überlegen, was mögliche Ursachen für den Umsatzrückgang sein könnten.</p>
<div class="page-columns page-full"><p>Hier ein paar Beispiele die uns spontan in den Sinn kommen könnten<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>:</p><div class="no-row-height column-margin column-container"><li id="fn3"><p><sup>3</sup>&nbsp;Hinweis: an dieser Stelle ist es wichtig, dass Sie sich nicht auf eine einzige Ursache festlegen. Es können auch mehrere oder andere Ursachen für den Umsatzrückgang verantwortlich sein. Wichtig ist, dass Sie sich auf die Ursachen konzentrieren, die Sie im Rahmen der Analyse überprüfen können.</p></li></div></div>
<ol type="1">
<li>die Preise sind gesunken</li>
<li>die Nachfrage ist gesunken</li>
<li>das Zahlungsverhalten der Kunden hat sich verändert</li>
<li>die Kundenstruktur hat sich verändert</li>
</ol>
<p>Lassen Sie uns nun die vier möglichen Ursachen genauer untersuchen und schauen, ob wir Hinweise auf die Ursache des Umsatzrückgangs finden können.</p>
<p><strong>Ursache 1:</strong> Preise sind gesunken</p>
<p>Eine mögliche Ursache für den Umsatzrückgang ist, dass die Kunden je Kauf (d.h. in unserem Fall je Transaktion bzw. je Zeile im Datensatz) weniger Geld ausgeben. Um dies zu überprüfen können wir schauen, ob der Preis je Transaktion über die Zeit gesunken ist. Lassen Sie uns dazu auch wieder eine monatliche Aggregation der Daten durchführen. Wir gruppieren also unsere Daten wieder nach Monat und aggregieren die Preise pro Monat. Für den Preis macht es jedoch keinen Sinn diesen zu summieren, sondern wir wollen den Durchschnittspreis pro Monat berechnen. Dazu verwenden wir die Funktion <code>mean()</code>.</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregieren der Preise pro Monat</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>preis_pro_monat <span class="op">=</span> df.groupby(<span class="st">"Monat"</span>).agg({<span class="st">"Preis"</span>: <span class="st">"mean"</span>})</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>preis_pro_monat</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Preis</th>
    </tr>
    <tr>
      <th>Monat</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>35.201020</td>
    </tr>
    <tr>
      <th>2</th>
      <td>34.296389</td>
    </tr>
    <tr>
      <th>3</th>
      <td>34.269343</td>
    </tr>
    <tr>
      <th>4</th>
      <td>33.291337</td>
    </tr>
    <tr>
      <th>5</th>
      <td>32.795621</td>
    </tr>
    <tr>
      <th>6</th>
      <td>31.940061</td>
    </tr>
    <tr>
      <th>7</th>
      <td>31.249649</td>
    </tr>
    <tr>
      <th>8</th>
      <td>31.261226</td>
    </tr>
    <tr>
      <th>9</th>
      <td>30.259324</td>
    </tr>
    <tr>
      <th>10</th>
      <td>29.874706</td>
    </tr>
    <tr>
      <th>11</th>
      <td>29.948788</td>
    </tr>
    <tr>
      <th>12</th>
      <td>29.117427</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>sns.lineplot(data<span class="op">=</span>preis_pro_monat, x<span class="op">=</span>preis_pro_monat.index, y<span class="op">=</span><span class="st">"Preis"</span>)<span class="op">;</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Fallstudie_1_files/figure-html/cell-13-output-1.png" width="585" height="422"></p>
</div>
</div>
<p>Die Analyse zeigt deutlich, dass der durchschnitlliche Umsatz je Transaktion über die Zeit gesunken ist. Während Kunden im Januar 2022 noch durchschnittlich 35,20 € pro Transaktion ausgegeben haben, waren es im Dezember 2022 nur noch 29,11 €. Davon ausgehend, dass das Unternehmen die Preise in diesem Zeitraum nicht gesenkt hat, ist dies ein Indikator dafür, dass Kunden günstigere Produkte auszuwählen scheinen.</p>
<p><strong>Ursache 2:</strong> Nachfrage ist gesunken</p>
<p>Eine weitere mögliche Ursache für den Umsatzrückgang ist, dass die Nachfrage nach den Produkten des Unternehmens gesunken ist. Um dies zu überprüfen können wir schauen, ob die durchschnittliche Menge je Transaktion über die Zeit gesunken ist. Lassen Sie uns dazu auch wieder eine monatliche Aggregation der Daten durchführen. Wir gruppieren also unsere Daten wieder nach Monat und aggregieren die Mengen pro Monat. Für die Menge macht es jedoch keinen Sinn diese zu summieren, sondern wir wollen die durchschnittliche Menge pro Monat berechnen. Dazu verwenden wir die Funktion <code>mean()</code>.</p>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregieren der Menge pro Monat </span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>menge_pro_monat <span class="op">=</span> df.groupby(<span class="st">"Monat"</span>).agg({<span class="st">"Menge"</span>: <span class="st">"mean"</span>})</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>menge_pro_monat</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Menge</th>
    </tr>
    <tr>
      <th>Monat</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>4.329426</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4.362451</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.274648</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4.283111</td>
    </tr>
    <tr>
      <th>5</th>
      <td>4.078454</td>
    </tr>
    <tr>
      <th>6</th>
      <td>4.098660</td>
    </tr>
    <tr>
      <th>7</th>
      <td>4.040936</td>
    </tr>
    <tr>
      <th>8</th>
      <td>4.048349</td>
    </tr>
    <tr>
      <th>9</th>
      <td>3.880435</td>
    </tr>
    <tr>
      <th>10</th>
      <td>3.888235</td>
    </tr>
    <tr>
      <th>11</th>
      <td>3.953939</td>
    </tr>
    <tr>
      <th>12</th>
      <td>3.811893</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>sns.lineplot(data<span class="op">=</span>menge_pro_monat, x<span class="op">=</span>menge_pro_monat.index, y<span class="op">=</span><span class="st">"Menge"</span>)<span class="op">;</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Fallstudie_1_files/figure-html/cell-15-output-1.png" width="589" height="422"></p>
</div>
</div>
<p>Aus der Analyse geht hervor, dass auch die durchschnittliche Menge je Transaktion über die Zeit gesunken ist. In Summe hat unsere (an dieser Stelle nur sehr oberflächliche) Analyse aufgezeigt, dass Kunden je Einkauf günstigere und kleinere Mengen kaufen.</p>
<p>Lassen Sie uns nun noch die beiden Ursachen 3 und 4 untersuchen, da wir uns zum einen nicht auf eine einzige Ursache festlegen wollen und zum anderen auch die anderen Ursachen nicht ausschließen können. Auch können uns die weiteren Analysen ggf. Aufschluss darüber geben, warum die Kunden günstigere und kleinere Mengen kaufen.</p>
<p><strong>Ursache 3:</strong> Zahlungsverhalten der Kunden hat sich verändert</p>
<p>Der Datensatz enthält nicht viele Informationen über das Zahlungsverhalten. Wir haben lediglich die Information über die Zahlungsmethode. Schauen wir uns deshalb doch zunächst an, ob die Kunden eine Zahlungsmethode bevorzugen.</p>
<p>Dazu berechnen wir zunächst die Gesamtumsätze sowie Anzahl an Transaktionen je Zahlungsmethode. Wir können dies wieder über einen simple Gruppierung der Daten via <code>groupby()</code> und anschließender Aggregation der Daten via <code>agg()</code> erreichen.</p>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Berechnen der Gesamtumsätze und Anzahl an Transaktionen je Zahlungsmethode</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>umsatz_je_zahlungsmethode <span class="op">=</span> df.groupby(<span class="st">"Zahlungsmethode"</span>).agg({<span class="st">"Umsatz"</span>: [<span class="st">"sum"</span>, <span class="st">"count"</span>]})</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>umsatz_je_zahlungsmethode</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th colspan="2" halign="left">Umsatz</th>
    </tr>
    <tr>
      <th></th>
      <th>sum</th>
      <th>count</th>
    </tr>
    <tr>
      <th>Zahlungsmethode</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Bar</th>
      <td>476976.95</td>
      <td>3370</td>
    </tr>
    <tr>
      <th>EC-Karte</th>
      <td>477491.92</td>
      <td>3413</td>
    </tr>
    <tr>
      <th>Kreditkarte</th>
      <td>446887.50</td>
      <td>3217</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Die Aufstellung zeigt, dass die Summe an Umsätzen sowie die Anzahl an Transaktionen sich nicht sehr stark unterscheiden, je nachdem ob die Kunden mit Kreditkarte, Bar oder per EC-Karte bezahlt haben.</p>
<p>Durch die Aggregation der Umsätze kann Information verloren gehen, so dass es mit unter Sinn macht, die einzelnen Transaktionsdaten zu visualisieren. Hierzu eignen sich Diagramme, die Verteilungen und Streuungen von Daten darstellen. Ein solches Diagramm ist das sogenannte <em>Stripplot</em>. Dieses Diagramm zeigt die Verteilung der Datenpunkte in einem Diagramm an.</p>
<div class="cell" data-fig-width="100%" data-execution_count="16">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>sns.stripplot(data<span class="op">=</span>df, x<span class="op">=</span><span class="st">"Zahlungsmethode"</span>, y<span class="op">=</span><span class="st">"Umsatz"</span>)<span class="op">;</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Fallstudie_1_files/figure-html/cell-17-output-1.png" width="593" height="422" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Es wird deutlich, dass sich die Streuung der Umsätze je nach Zahlungsmethode nicht wesentilch unterscheiden.</p>
<p>Wir wissen nun, dass Kunden, die z.B. viel und teuer erkaufen nicht eine bestimmte Zahlungsmethode bevorzugen. Jedoch haben wir noch nicht untersucht, ob sich das Zahlungsverhalten der Kunden über die Zeit verändert hat.</p>
<p>Lassen Sie uns dies nun untersuchen. Dazu berechnen wir die Umsätze je Monat und je Zahlungsmethode. Das folgende Diagramm zeigt die Umsätze je Monat und je Zahlungsmethode.</p>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>sns.catplot(data<span class="op">=</span>df, x<span class="op">=</span><span class="st">"Monat"</span>, y<span class="op">=</span><span class="st">"Umsatz"</span>, kind<span class="op">=</span><span class="st">"point"</span>, hue<span class="op">=</span><span class="st">"Zahlungsmethode"</span>, ci<span class="op">=</span><span class="va">None</span>)<span class="op">;</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Fallstudie_1_files/figure-html/cell-18-output-1.png" width="591" height="468" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Die Analyse liefert uns keine neuen Erkenntnisse hinsichtlich der Ursache für den Umsatzrückgang. Die Umsätze je Monat und je Zahlungsmethode unterscheiden sich nicht wesentlich und insgesamt ist der Umsatzrückgang über die Zeit sehr ähnlich.</p>
<p>Lassen Sie uns deshalb die vierte mögliche Ursache untersuchen.</p>
<p><strong>Ursache 4:</strong> Kundenstruktur hat sich verändert</p>
<p>Auch zur Kundenstruktur haben wir nur wenige Informationen. Wir wissen lediglich, wie alt die Kunden sind. Für weitere Analysen müssten wir uns mit dem Unternehmen in Verbindung setzen und weitere Informationen über die Kundenstruktur erhalten.</p>
<p>Bevor wir eine mögliche Veränderung der Kundenstruktur (in unserem Falle: Alter) analysieren, sollten wir zunächst die Verteilung der Kunden anhand ihres Alters untersuchen, um ein Gefühl für unsere Kundenstruktur zu bekommen. Wir können das über ein Histogramm visualisieren, welches wir mit der Funktion <code>histplot()</code> aus der Bibliothek <code>seaborn</code> erstellen können.</p>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>df, x<span class="op">=</span><span class="st">"Alter"</span>)<span class="op">;</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Fallstudie_1_files/figure-html/cell-19-output-1.png" width="602" height="422" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Die Verteilung der Kunden zeigt, dass unsere Kunden grds. aus allen Altersgruppen kommen. Jedoch fällt auf, dass die Verteilung zwei Spitzen aufweist. Die erste Spitze liegt bei ca. <strong>25 Jahren</strong>, die zweite Spitze bei ca. <strong>55 Jahren</strong>.</p>
<div class="page-columns page-full"><p>Lassen Sie uns nun schauen, ob Kunden mit einem bestimmten Alter mehr oder weniger kaufen. Um dies zu untersuchen, berechnen wir einen neue Variable <code>Altersgruppe</code>, die die Kunden in Altersgruppen von 10 Jahren aufteilt, d.h. die Kunden werden in die Altersgruppen 0-20, 21-30, 31-40, …, 81-90, 91-100 eingeteilt.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn4"><p><sup>4</sup>&nbsp;Hinweis: wir müssen diese Aufteilung in Gruppen nicht vornehmen, jedoch macht diese die Visualisierung der Daten einfacher.</p></li></div></div>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Berechnen der Altersgruppen</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"Altergruppe"</span>] <span class="op">=</span> pd.cut(df[<span class="st">"Alter"</span>], </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>                            bins<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>, <span class="dv">70</span>, <span class="dv">80</span>, <span class="dv">90</span>, <span class="dv">100</span>], </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>                            labels<span class="op">=</span>[<span class="st">"0-20"</span>, <span class="st">"21-30"</span>, <span class="st">"31-40"</span>, <span class="st">"41-50"</span>, <span class="st">"51-60"</span>, <span class="st">"61-70"</span>, <span class="st">"71-80"</span>, <span class="st">"81-90"</span>, <span class="st">"91-100"</span>])</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Kundenname</th>
      <th>Alter</th>
      <th>Zahlungsmethode</th>
      <th>Preis</th>
      <th>Menge</th>
      <th>Datum</th>
      <th>Uhrzeit</th>
      <th>Umsatz</th>
      <th>Monat</th>
      <th>Woche</th>
      <th>Wochentag</th>
      <th>Altergruppe</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Gislinde Börner</td>
      <td>29</td>
      <td>EC-Karte</td>
      <td>14.99</td>
      <td>4</td>
      <td>2022-01-01</td>
      <td>10:24:44</td>
      <td>59.96</td>
      <td>1</td>
      <td>52</td>
      <td>Saturday</td>
      <td>21-30</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Pierre Ullmann</td>
      <td>28</td>
      <td>Bar</td>
      <td>17.99</td>
      <td>4</td>
      <td>2022-01-01</td>
      <td>10:55:09</td>
      <td>71.96</td>
      <td>1</td>
      <td>52</td>
      <td>Saturday</td>
      <td>21-30</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Rainer Birnbaum</td>
      <td>57</td>
      <td>Bar</td>
      <td>43.99</td>
      <td>4</td>
      <td>2022-01-01</td>
      <td>11:25:31</td>
      <td>175.96</td>
      <td>1</td>
      <td>52</td>
      <td>Saturday</td>
      <td>51-60</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Ekaterina Binner</td>
      <td>47</td>
      <td>Kreditkarte</td>
      <td>36.99</td>
      <td>3</td>
      <td>2022-01-01</td>
      <td>11:30:28</td>
      <td>110.97</td>
      <td>1</td>
      <td>52</td>
      <td>Saturday</td>
      <td>41-50</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Prof. Mandy Riehl</td>
      <td>59</td>
      <td>Bar</td>
      <td>35.99</td>
      <td>4</td>
      <td>2022-01-01</td>
      <td>11:46:50</td>
      <td>143.96</td>
      <td>1</td>
      <td>52</td>
      <td>Saturday</td>
      <td>51-60</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Nun können wir die Umsätze je Altersgruppe berechnen und visualisieren. Die untenstehende Tablle zeigt die durchschnittlichen Umsätze je Transaktion und je Altersgruppe.</p>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Berechnen der Umsätze je Altersgruppe</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>umsatz_je_alter <span class="op">=</span> df.groupby(<span class="st">"Altergruppe"</span>).agg({<span class="st">"Umsatz"</span>: [<span class="st">"mean"</span>, <span class="st">"count"</span>]})</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>umsatz_je_alter</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th colspan="2" halign="left">Umsatz</th>
    </tr>
    <tr>
      <th></th>
      <th>mean</th>
      <th>count</th>
    </tr>
    <tr>
      <th>Altergruppe</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0-20</th>
      <td>61.991679</td>
      <td>137</td>
    </tr>
    <tr>
      <th>21-30</th>
      <td>63.482432</td>
      <td>2738</td>
    </tr>
    <tr>
      <th>31-40</th>
      <td>66.317305</td>
      <td>1629</td>
    </tr>
    <tr>
      <th>41-50</th>
      <td>193.778857</td>
      <td>1024</td>
    </tr>
    <tr>
      <th>51-60</th>
      <td>203.674966</td>
      <td>2827</td>
    </tr>
    <tr>
      <th>61-70</th>
      <td>204.916333</td>
      <td>1448</td>
    </tr>
    <tr>
      <th>71-80</th>
      <td>203.356615</td>
      <td>192</td>
    </tr>
    <tr>
      <th>81-90</th>
      <td>207.144000</td>
      <td>5</td>
    </tr>
    <tr>
      <th>91-100</th>
      <td>NaN</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Die Tabelle zeigt deutlich, dass unterschiedliche Altergruppen unterschiedliche Umsätze generieren. Kunden bis ca. 40 Jahre geben im Schnitt deutlich weniger aus, als Kunden, die älter als 40 Jahre sind.</p>
<p>Aus der untenstehenden Visualisierung geht dies noch deutlicher hervor.</p>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>sns.stripplot(data<span class="op">=</span>df, x<span class="op">=</span><span class="st">"Altergruppe"</span>, y<span class="op">=</span><span class="st">"Umsatz"</span>, jitter<span class="op">=</span><span class="fl">0.1</span>)<span class="op">;</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Fallstudie_1_files/figure-html/cell-22-output-1.png" width="593" height="422"></p>
</div>
</div>
<p>Es scheint also so, als ob sich die Kundenstruktur verändert hat. Kunden bis ca. 40 Jahre kaufen weniger oder günstiger ein, als Kunden, die älter als 40 Jahre sind.</p>
<p>Diese Erkenntnis alleine reicht jedoch nicht aus, um die Ursache für den Umsatzrückgang zu finden. Wir müssen nun untersuchen, ob sich die Altersstruktur über die Zeit verändert hat. Eine Erklärung für den Umsatzrückgang könnte sein, dass das Unternehmen mit der Zeit mehr Kunden aus der Altersgruppe “unter 40” gewonnen hat, die weniger oder günstiger kaufen.</p>
<p>Um dies zu untersuchen, berechnen wir zunächst eine neue Variable <code>Kundengruppe</code> mit den Werten “alt” (&gt;40 Jahre) und “jung” (&lt;=40 Jahre). Wir können dann im Anschluss schauen, ob der Anteil an jungen Kunden in den letzten Monaten gestiegen ist.</p>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Berechnen der Kundengruppe</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"Kundengruppe"</span>] <span class="op">=</span> np.where(df[<span class="st">"Alter"</span>] <span class="op">&lt;=</span> <span class="dv">40</span>, <span class="st">"jung"</span>, <span class="st">"alt"</span>)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Kundenname</th>
      <th>Alter</th>
      <th>Zahlungsmethode</th>
      <th>Preis</th>
      <th>Menge</th>
      <th>Datum</th>
      <th>Uhrzeit</th>
      <th>Umsatz</th>
      <th>Monat</th>
      <th>Woche</th>
      <th>Wochentag</th>
      <th>Altergruppe</th>
      <th>Kundengruppe</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Gislinde Börner</td>
      <td>29</td>
      <td>EC-Karte</td>
      <td>14.99</td>
      <td>4</td>
      <td>2022-01-01</td>
      <td>10:24:44</td>
      <td>59.96</td>
      <td>1</td>
      <td>52</td>
      <td>Saturday</td>
      <td>21-30</td>
      <td>jung</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Pierre Ullmann</td>
      <td>28</td>
      <td>Bar</td>
      <td>17.99</td>
      <td>4</td>
      <td>2022-01-01</td>
      <td>10:55:09</td>
      <td>71.96</td>
      <td>1</td>
      <td>52</td>
      <td>Saturday</td>
      <td>21-30</td>
      <td>jung</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Rainer Birnbaum</td>
      <td>57</td>
      <td>Bar</td>
      <td>43.99</td>
      <td>4</td>
      <td>2022-01-01</td>
      <td>11:25:31</td>
      <td>175.96</td>
      <td>1</td>
      <td>52</td>
      <td>Saturday</td>
      <td>51-60</td>
      <td>alt</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Ekaterina Binner</td>
      <td>47</td>
      <td>Kreditkarte</td>
      <td>36.99</td>
      <td>3</td>
      <td>2022-01-01</td>
      <td>11:30:28</td>
      <td>110.97</td>
      <td>1</td>
      <td>52</td>
      <td>Saturday</td>
      <td>41-50</td>
      <td>alt</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Prof. Mandy Riehl</td>
      <td>59</td>
      <td>Bar</td>
      <td>35.99</td>
      <td>4</td>
      <td>2022-01-01</td>
      <td>11:46:50</td>
      <td>143.96</td>
      <td>1</td>
      <td>52</td>
      <td>Saturday</td>
      <td>51-60</td>
      <td>alt</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Den Anteil an jungen Kunden je Monat berechnen wir, indem wir die Anzahl der jungen Kunden je Monat durch die Gesamtanzahl der Kunden je Monat teilen. Die untenstehende Tabelle zeigt die Ergebnisse.</p>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Berechnen des Anteils an jungen Kunden je Monat</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>df.groupby([<span class="st">"Monat"</span>]).agg({<span class="st">"Kundengruppe"</span>: [<span class="kw">lambda</span> group: <span class="bu">sum</span>(group <span class="op">==</span> <span class="st">"jung"</span>)<span class="op">/</span><span class="bu">len</span>(group)]}).plot(legend<span class="op">=</span><span class="va">False</span>)<span class="op">;</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Fallstudie_1_files/figure-html/cell-24-output-1.png" width="579" height="422"></p>
</div>
</div>
<p>Es ist offensichtlich, dass der Anteil an jungen Kunden in den letzten Monaten gestiegen ist. Dies könnte die Ursache für den Umsatzrückgang sein.</p>
<p>Die untenstehende Visualisierung zeigt die Entwicklung der Umsätze je Monat und je Kundengruppe (jung vs.&nbsp;alt). Die blaue Linie zeigt die Umsätze der jungen Kunden, die orangene Linie zeigt die Umsätze der alten Kunden. Es ist ersichtlich, dass die Umsätze der jeweiligen Kundengruppen in den letzten Monaten konstant geblieben sind. Dies bestätigt die Hypothese, dass der Umsatzrückgang auf den Anstieg des Anteils an jungen Kunden zurückzuführen ist und nicht darauf, dass sich die Umsätze der jeweiligen Kundengruppen verändert haben.</p>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>sns.catplot(x<span class="op">=</span><span class="st">"Monat"</span>, y<span class="op">=</span><span class="st">"Preis"</span>, </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>            data<span class="op">=</span>df,  kind<span class="op">=</span><span class="st">"point"</span>, </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>            palette<span class="op">=</span>{<span class="st">"jung"</span>: <span class="st">"blue"</span>, <span class="st">"alt"</span>: <span class="st">"orange"</span>}, hue<span class="op">=</span><span class="st">"Kundengruppe"</span>)<span class="op">;</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Fallstudie_1_files/figure-html/cell-25-output-1.png" width="572" height="468" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="zwischenfazit" class="level4">
<h4 class="anchored" data-anchor-id="zwischenfazit">Zwischenfazit</h4>
<p>Lassen Sie uns - bevor wir mit unser Analyse fortfahren - ein kurzes Zwischenfazit ziehen und unsere bisherigen Erkenntnisse zusammenfassen.</p>
<ul>
<li>wir haben im ersten Schritt unsere Problem definiert (“Was ist der Grund für den Rückgang des Umsatzes?”)</li>
<li>nachfolgend haben wir die Daten geladen und bereinigt. Die Bereinigung der Daten war nicht besonders umfassend, da der Datensatz bereits sehr sauber war. In der Praxis ist die Bereinigung der Daten jedoch ein sehr wichtiger Schritt, da die Daten in der Regel sehr unvollständig und fehlerhaft sind.</li>
<li>wir haben dann im nächsten Schritt die Problembeschreibung bestätigt und festgestellt, dass es laut Daten tatsächlich einen Umsatzrückgang gab.</li>
<li>anschließend haben wir vier Hypothesen für den Umsatzrückgang aufgestellt und diese mit Hilfe der Daten überprüft. Die Hypothesen waren:
<ol type="1">
<li>die Preise sind gesunken</li>
<li>die Nachfrage ist gesunken</li>
<li>das Zahlungsverhalten der Kunden hat sich verändert</li>
<li>die Kundenstruktur hat sich verändert</li>
</ol></li>
<li>wir haben die Hypothesen mit Hilfe von sinnvollen Transformationen (Gruppierungen und Aggregationen) und Visualisierungen überprüft.</li>
<li>wir konnten feststellen, dass die ersten beiden Hypothesen zutrafen. Im Zeitverlauf sind die Preise und Mengen tatsächlich gesunken. Jedoch hat uns diese Feststellung keinen Aufschluss darüber gegeben, was der Grund für die Preis- und Mengenänderungen ist.</li>
<li>wir konnten keinen Zusammenhang zwischen der Zahlungsart und der Umsatzentwicklung entdecken.</li>
<li>wir haben dann jedoch festgestellt, dass die Kundenstruktur sich verändert hat. Wir haben mehr Kunden aus der Altersgruppe “unter 40” gewonnen, die weniger oder günstiger kaufen. Dies könnte der Grund für den Umsatzrückgang sein.</li>
</ul>
<blockquote class="blockquote">
<p><strong>Fazit:</strong> Der Umsatzrückgang ist auf die Veränderung der Kundenstruktur zurückzuführen. Wir haben mehr Kunden aus der Altersgruppe “unter 40” gewonnen, die weniger oder günstiger kaufen.</p>
</blockquote>
</section>
<section id="erkenntnisse-gewinnen-modellieren" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="erkenntnisse-gewinnen-modellieren">Erkenntnisse gewinnen: Modellieren</h4>
<p>Unsere bisherige Analyse basiert auf rein deskriptiven Statistiken. Um unsere Hypothesen zu überprüfen, haben wir unseren Datensatz im Grunde nur beschrieben. Wir haben Daten gruppiert und aggregiert und teilweise für verschiedene Dimensionen (z.B. nach Monat und Zahlungsmethode) visualisiert. Wir konnten dadurch bereits wichtige Erkenntnisse gewinnen. Im betriebswirtschaftlichen Kontext in der Praxis sind diese Analysen meist auch bereits ausreichend. Jedoch ist es oft auch hilfreich und sinnvoll die Daten mit Hilfe von Modellen zu analysieren. Das Modellieren von Daten ist ein wesentlicher Bestandteil von Business Analytics und hat drei wesentliche Vorteile, den es ermöglicht uns:</p>
<ol type="1">
<li>gewonnene Erkenntnisse zu validieren</li>
<li>Zusammenhänge und Ursachen für Effekte (besser) zu verstehen</li>
<li>Daten in die Zukunft zu prognostizieren</li>
</ol>
<p>Wir werden an dieser Stelle noch nicht im Detail auf die Modellierung eingehen, sondern stattdessen nur ein kurzes Beispiel geben, um Ihnen einen Eindruck davon zu geben, wie wir mit Hilfe von Modellen Erkenntnisse gewinnen können.</p>
<p>In unserem Zwischenfazit haben wir zusammegefasst, dass der Umsatzrückgang auf die Veränderung der Kundenstruktur zurückzuführen ist. Der Anteil an jüngeren Kunden hat sich vergrößert und diese Kunden kaufen günstiger und weniger.</p>
<div class="page-columns page-full"><p>Lassen Sie uns diese Erkenntnis noch einmal alternativ graphisch darstellen. Wir gruppieren unsere Daten dafür pro Tag (d.h. wir aggregieren einzelne Transaktionen pro Tag) und schauen uns für jeden Tag den durschnittlichen Umsatz sowie das durchschnittliche Kundenalter an.<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>. Anschließend stellen wir die Daten in einem Streudiagramm dar. Wir sehen, dass es einen Zusammenhang zwischen Umsatz und Alter gibt. Je älter die Kunden sind, desto höher ist der Umsatz. Der Zusammenhang wird durch die Linie, die wir dem Graphen hinzugefügt haben visualisiert.</p><div class="no-row-height column-margin column-container"><li id="fn5"><p><sup>5</sup>&nbsp;Hinweis: wir nehmen hier den <code>Median</code>, um einzelnen Ausreißern kein großes Gewicht zu geben. Die Darstellung sähe jedoch sehr ähnlich aus, wenn wir das arithmethische Mittel nähmen.</p></li></div></div>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>umsatz_by_alter <span class="op">=</span> df.groupby(<span class="st">"Datum"</span>).agg({<span class="st">"Umsatz"</span>: <span class="st">"median"</span>, </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>                                           <span class="st">"Alter"</span>: <span class="st">"median"</span>})</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>sns.regplot(x<span class="op">=</span><span class="st">"Alter"</span>, y<span class="op">=</span><span class="st">"Umsatz"</span>, data<span class="op">=</span>umsatz_by_alter, ci<span class="op">=</span><span class="va">True</span>, </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>            line_kws<span class="op">=</span>{<span class="st">"color"</span>: <span class="st">"red"</span>}, scatter_kws<span class="op">=</span>{<span class="st">"alpha"</span>: <span class="fl">0.5</span>})<span class="op">;</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Fallstudie_1_files/figure-html/cell-26-output-1.png" width="593" height="422"></p>
</div>
</div>
<p>Die Linie ist ein Modell, das die Daten beschreibt. Im vorliegenden Fall handelt es sich um ein lineares Model bzw. eine lineare Funktion. Wir können diese Funktion auch als eine mathematische Gleichung beschreiben. In unserem Fall lautet die Gleichung:</p>
<p><span class="math display">\[
Umsatz = \alpha + \beta \cdot Alter = -28.8 + 3.4 \cdot Alter
\]</span></p>
<p>Ihnen sollte das Modell bekannt vorkommen, da es sich um ein <strong>lineares Regressionsmodell</strong> handelt, welches typischerweise zu Beginn des Studiums in einer einführenden Statistikvorlesung behandelt wird. Das Ergebnis, d.h. die Werte für die sogenannten Regressionsparamter <span class="math inline">\(\alpha\)</span> und <span class="math inline">\(\beta\)</span> haben wir ebenfalls mit Python berechnet. Die Details sind an dieser Stelle (noch) nicht so wichtig, können jedoch im untenstehenden “Tab-Panel” eingesehen werden.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">Regression: Code</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Regression: Output</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.formula.api <span class="im">as</span> smf</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> smf.ols(formula<span class="op">=</span><span class="st">"Umsatz ~ Alter"</span>, data<span class="op">=</span>umsatz_by_alter)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>results <span class="op">=</span> model.fit()</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>results.summary()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell" data-execution_count="27">
<div class="cell-output cell-output-display" data-execution_count="27">

<table class="simpletable">
<caption>OLS Regression Results</caption>
<tbody><tr>
  <th>Dep. Variable:</th>         <td>Umsatz</td>      <th>  R-squared:         </th> <td>   0.725</td> 
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.724</td> 
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   956.1</td> 
</tr>
<tr>
  <th>Date:</th>             <td>Wed, 01 Feb 2023</td> <th>  Prob (F-statistic):</th> <td>9.67e-104</td>
</tr>
<tr>
  <th>Time:</th>                 <td>17:52:47</td>     <th>  Log-Likelihood:    </th> <td> -1612.6</td> 
</tr>
<tr>
  <th>No. Observations:</th>      <td>   365</td>      <th>  AIC:               </th> <td>   3229.</td> 
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   363</td>      <th>  BIC:               </th> <td>   3237.</td> 
</tr>
<tr>
  <th>Df Model:</th>              <td>     1</td>      <th>                     </th>     <td> </td>    
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>    
</tr>
</tbody></table>
<table class="simpletable">
<tbody><tr>
      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P&gt;|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th> <td>  -28.8068</td> <td>    4.931</td> <td>   -5.841</td> <td> 0.000</td> <td>  -38.505</td> <td>  -19.109</td>
</tr>
<tr>
  <th>Alter</th>     <td>    3.3864</td> <td>    0.110</td> <td>   30.920</td> <td> 0.000</td> <td>    3.171</td> <td>    3.602</td>
</tr>
</tbody></table>
<table class="simpletable">
<tbody><tr>
  <th>Omnibus:</th>       <td> 0.198</td> <th>  Durbin-Watson:     </th> <td>   2.043</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.906</td> <th>  Jarque-Bera (JB):  </th> <td>   0.083</td>
</tr>
<tr>
  <th>Skew:</th>          <td>-0.024</td> <th>  Prob(JB):          </th> <td>   0.959</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 3.056</td> <th>  Cond. No.          </th> <td>    211.</td>
</tr>
</tbody></table><br><br>Notes:<br>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</div>
</div>
</div>
</div>
</div>
<p>Das Modell ist nur ein Beispiel für ein Modell, das wir an dieser Stelle verwenden können oder sollten.</p>
<ul>
<li>es kann helfen unsere Erkenntnisse zu validieren: wir könnten dem Modell weitere Variablen hinzufügen und schauen, ob der Zusammenhang zwischen Umsatz und Alter weiterhin Bestand hat und ob dieser robust ist</li>
<li>es kann helfen Zusammenhänge zu verstehen: wir können das Modell nutzen um zu verstehen, wie sich der Umsatz verändert, wenn wir das Alter der Kunden verändern. Wir können unser Model z.B. wie folgt interpretieren: wenn Kunden im Durchschnitt 1 Jahr älter sind, dann steigt der Umsatz im Durchschnitt um 3,4€. Wir können damit den Effekt der Veränderung der Kundenstruktur auf den Umsatz quantifizieren</li>
<li>es kann helfen Daten in die Zukunft zu prognostizieren: wir können das Modell nutzen um zu schätzen, wie sich der Umsatz in Zukunft entwickeln wird. Wir können z.B. schätzen, dass der Umsatz nächstes Jahr um x € steigen wird, wenn wir y Jahre ältere Kunden anwerben.<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a></li>
</ul>


<div class="no-row-height column-margin column-container"><li id="fn6"><p><sup>6</sup>&nbsp;Hinweis: dies beinhaltet aber viele Annahmen - z.B. dass die Zusammenhänge über die Zeit konstant bleiben oder dass nicht doch andere (versteckte) Faktoren eine Rolle spielen. Wir werden auf diese Aspekte an geeigneter Stelle noch im Detail eingehen.</p></li></div></section>
</section>
</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="../../Chapters/02_Chapter/Python_Basics.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Kurze Einführung in Python</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../Chapters/04_Chapter/Deskriptive_Analyse.html" class="pagination-link">
        <span class="nav-page-text">DESKRIPTIVE ANALYSE</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">
        <ul class="footer-items list-unstyled">
    <li class="nav-item">
 © 2023 by F. Zeidler
  </li>  
</ul>
      </div>
  </div>
</footer>



</body></html>